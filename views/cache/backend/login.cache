function template(locals) {
var buf = [];
var jade_mixins = {};
var jade_interp;
;var locals_for_with = (locals || {});(function (siteInfo, title) {
buf.push("<!DOCTYPE html><html lang=\"zh\" ng-app=\"Kaola\"><head><title>" + (jade.escape((jade_interp = siteInfo.title) == null ? '' : jade_interp)) + " | " + (jade.escape((jade_interp = title) == null ? '' : jade_interp)) + "</title><meta charset=\"UTF-8\"><meta name=\"description\"" + (jade.attr("content", '' + (siteInfo.desc) + '', true, true)) + "><meta name=\"keywords\"" + (jade.attr("content", '' + (siteInfo.basicKW) + ',' + (siteInfo.keywords) + '', true, true)) + "><meta name=\"renderer\" content=\"webkit\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\"><link href=\"/lib/bootstrap/dist/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"><link href=\"/lib/font-awesome/css/font-awesome.min.css\" rel=\"stylesheet\" type=\"text/css\"><link href=\"/lib/ionicons/css/ionicons.min.css\" rel=\"stylesheet\" type=\"text/css\"><link href=\"/lib/art-reactor/dist/art-reactor.min.css\" rel=\"stylesheet\" type=\"text/css\"><link href=\"/lib/mermaid-min/mermaid.css\" rel=\"stylesheet\"><link href=\"/lib/katex-build/katex.min.css\" rel=\"stylesheet\"><link href=\"/lib/github-markdown-css/github-markdown.css\" rel=\"stylesheet\"><link href=\"/backend/theme/css/AdminLTE.min.css\" rel=\"stylesheet\" type=\"text/css\"><link href=\"/backend/theme/css/skins/all-skins.min.css\" rel=\"stylesheet\" type=\"text/css\"><link href=\"/backend/theme/css/markdown.min.css\" rel=\"stylesheet\" type=\"text/css\"><link href=\"/backend/css/other.css\" rel=\"stylesheet\" type=\"text/css\"><style>textarea{\n resize:vertical;\n}\n.content .panel {\n  background-color: transparent;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}</style><script src=\"/lib/angular/angular.min.js\"></script><script src=\"/lib/jquery/dist/jquery.min.js\"></script><script src=\"/lib/crypto-js/crypto-js.js\"></script><script src=\"/backend/js/tools.js\"></script><!--if lt IE 9script(src='https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js')\nscript(src='https://oss.maxcdn.com/respond/1.4.2/respond.min.js')--></head><body ng-controller=\"LoginCtrl\" class=\"login-page\"><div class=\"login-box\"><div class=\"login-logo\"><a href=\"/\"><b>Kaola </b>CMS</a></div><div class=\"login-box-body\"><p class=\"login-box-msg\">系统管理员登陆</p><form id=\"login\"><div class=\"form-group has-feedback\"><input type=\"email\" placeholder=\"请输入邮箱\" ng-model=\"email\" reg=\"e\" err-tip=\"请输入正确邮箱\" class=\"form-control\"><span class=\"glyphicon glyphicon-user form-control-feedback\"></span></div><div class=\"form-group has-feedback\"><input type=\"password\" placeholder=\"请输入密码\" ng-model=\"password\" reg=\"s6-18\" err-tip=\"密码应当为6到18位非非特殊字符\" autocomplete=\"off\" class=\"form-control\"><span class=\"glyphicon glyphicon-lock form-control-feedback\"></span></div><div class=\"form-group has-feedback clearfix\"><div style=\"margin-left: 0;padding: 0;\" class=\"col-xs-8\"><input type=\"text\" placeholder=\"请输入验证码\" ng-model=\"securityCode\" reg=\"s1-6\" err-tip=\"验证码格式错误\" class=\"form-control\"></div><div style=\"margin-left: 0;padding: 0;overflow:hidden\" class=\"col-xs-4\"><img id=\"code\" src=\"/api/securityCode\" ng-src=\"{{code}}\" style=\"width:100%;height: 34px;border: 1px solid #ccc;border-left:none\" title=\"点击刷新验证码\" ng-click=\"reCode()\"></div></div><div id=\"tip\" class=\"form-group has-feedback\"></div><div class=\"form-group has-feedback\"><button type=\"button\" ng-click=\"submit()\" class=\"btn btn-primary btn-block btn-flat\"> 登 陆</button></div></form></div></div></body><script>angular.module('Kaola',['Kaola.tools'])\n.controller('LoginCtrl', ['$scope','$http','$filter',function($scope,$http,$filter){\n  $scope.code = '/api/securityCode?'+Date.parse(new Date());\n  $scope.reCode = function(){\n    $scope.code = '/api/securityCode?'+Date.parse(new Date());\n  }\n  $scope.email = '';\n  $scope.password = '';\n  $scope.securityCode = '';\n  $scope.submit = function(){\n    if($('#login .reg-success').size() === 3){\n      //这里的密码混合验证码加密传输,避免重放攻击\n      var loginData = {\n        email : $scope.email,\n        ticket : $filter('md5')(($filter('md5')($scope.password)+$scope.securityCode).toUpperCase())\n      }\n      $.post('/admin/login',loginData,function(data){\n        var status = data.status.split('::')[0],\n        msg = data.status.split('::')[1];\n        if(status === 'SUCCESS'){\n          $('#tip').append('<div class='callout callout-success'><p>'+msg+'</p></div>');\n          setTimeout(function(){\n            window.location.href = './'\n          },2000)\n        }else{\n          $('#tip').append('<div class='callout callout-danger'><p>'+msg+'</p></div>');\n          $scope.reCode();\n          setTimeout(function(){\n            $('#tip').html('');\n          },2000)\n        }\n      })\n    }else{\n      $('#tip').append('<div class='callout callout-danger'><p>用户名/密码/验证码信息不完整</p></div>');\n      $scope.reCode();\n      setTimeout(function(){\n        $('#tip').html('');\n      },2000)\n    }\n  }\n}])</script><script src=\"/backend/theme/js/app.min.js\"></script><script src=\"/lib/art-dialog/dist/dialog-plus-min.js\"></script><script src=\"/lib/slimScroll/jquery.slimscroll.min.js\"></script><script src=\"/lib/bootstrap/dist/js/bootstrap.min.js\"></script><script src=\"/lib/mermaid-min/mermaid.full.min.js\"></script><script src=\"/lib/katex-build/katex.min.js\"></script><script src=\"/lib/ace-min-noconflict/ace.js\" charset=\"utf-8\"></script><script src=\"/lib/ace-min-noconflict/ext-modelist.js\"></script><script src=\"/lib/ace-min-noconflict/ext-static_highlight.js\"></script><script>$(function() {\n  var path = window.location.pathname;\n  var sv = $('a[href=\"' + path + '\"]');\n  $('.treeview-menu').removeClass('open-menu');\n  $(\".sidebar-menu\").find(\"li\").removeClass('active');\n  sv.parents('li').addClass('active');\n  sv.parent('li').addClass('active').parents('.treeview-menu').addClass('open-menu');\n})</script></html>");}.call(this,"siteInfo" in locals_for_with?locals_for_with.siteInfo:typeof siteInfo!=="undefined"?siteInfo:undefined,"title" in locals_for_with?locals_for_with.title:typeof title!=="undefined"?title:undefined));;return buf.join("");
}