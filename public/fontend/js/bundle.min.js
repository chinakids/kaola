!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var i=n(1),o=a(i),r=n(2),l=a(r),s=n(3),c=a(s),u=n(4),d=a(u);window.RM=function(){window.M&&window.M.layout()},angular.module("Kaola",["Kaola.tools"]).controller(o["default"][0],o["default"][1]).controller(l["default"][0],l["default"][1]).controller(c["default"][0],c["default"][1]).directive(d["default"][0],d["default"][1])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["IndexCtrl",["$scope","$http","$filter",function(e,t,n){$(window).scroll(function(){$(document).scrollTop()>=280?$(".navbar").removeClass("opacity"):$(".navbar").addClass("opacity")}),window.M=new Masonry(".js-masonry",{itemSelector:".grid-item",columnWidth:10});var a=function(e){for(var t in e)return e[t].url},i=function(e){for(var t=0,n=e.length;n>t;t++){console.log(e[t]);var i="\n            <li class='grid-item'>\n              <div class='img-box'>\n                <a class='img' href='/"+(e[t].info?"good":"article")+"/"+e[t]._id+"'>\n                  <img src='"+a(JSON.parse(e[t].imgList))+"' onload='RM()'/>\n                </a>\n                <p class='num'>\n                  <a class='watch-num' href='javascript:;'>\n                    <i class='fa fa-eye'></i> "+e[t].statistics.view+"\n                  </a>\n                  <a class='like-num' href='javascript:;'>\n                    <i class='fa fa-heart'></i> "+e[t].statistics.like+"\n                  </a>\n                </p>\n              </div>\n              <div class='clearfix'>\n                <a class='img-name' href='/"+("good"===e[t].type?"good":"article")+"/"+e[t]._id+"'>"+e[t].title+"</a>\n                "+(e[t].info?"<p class='sort'><i class='fa fa-location-arrow'></i> "+e[t].info.location+"</p>":"")+"\n                <a class='method clefafix' href='/users/"+e[t].author._id+"'>\n                  <span style='background-image:url("+e[t].author.avatar+");'></span>\n                  <b>"+e[t].author.nickName+"</b>\n                </a>\n              </div>\n            </li>";$(".js-masonry").append(i),window.M.reloadItems()}};i(window.list)}]];t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["LoginCtrl",["$scope","$http","$filter",function(e,t,n){e.index="xx"}]];t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["GoodCtrl",["$scope","$http","$filter",function(e,t,n){e.index="xx"}]];t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["lazySrc",["$window","$document",function(e,t){var n=angular.element(e),a=t[0],i=!1,o=function(){var e=0,t={};return{push:function(n){t[e++]=n,setTimeout(function(){l(n)})},del:function(e){t[e]&&delete t[e]},size:function(){return Object.keys(t).length},get:function(){return t}}}(),r=function(e){var t=e[0].getBoundingClientRect(),i=!0;if(t.height>0&&t.width>0){var o=t.top>0&&t.top+t.height/3<Math.max(a.documentElement.clientHeight,n.innerHeight||0),r=t.left>0&&t.left+t.width/3<Math.max(a.documentElement.clientWidth,n.innerWidth||0);i=o&&r}return i},l=function c(e,t,a){return t>=0&&a?r(a.elem)?a.load(t):!1:void(0==o.size()?(n.off("scroll",c),n.off("resize",c),i=!1):angular.forEach(o.get(),function(e,t){r(e.elem)&&e.load(t)}))},s=function(){i===!1&&(i=!0,n.on("scroll",l),n.on("resize",l))};return{restrict:"A",scope:{},link:function(e,t,n){t[0].style.cssText&&t.data("cssText",t[0].style.cssText),t.css({"min-width":"1px","min-height":"1px"}),o.push({elem:t,load:function(a){return t.data("cssText")&&(t[0].style.cssText=t.data("cssText")),t.removeClass("ng-lazyload"),t.attr("src",n.lazySrc),a>=0&&o.del(a),e.$destroy(),!0}}),s()}}}]];t["default"]=n}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfaW5kZXgiLCJfaW5kZXgyIiwiX2xvZ2luIiwiX2xvZ2luMiIsIl9nb29kIiwiX2dvb2QyIiwiX2xhenlJbWFnZSIsIl9sYXp5SW1hZ2UyIiwid2luZG93IiwiUk0iLCJNIiwibGF5b3V0IiwiYW5ndWxhciIsImNvbnRyb2xsZXIiLCJkaXJlY3RpdmUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiJHNjb3BlIiwiJGh0dHAiLCIkZmlsdGVyIiwiJCIsInNjcm9sbCIsImRvY3VtZW50Iiwic2Nyb2xsVG9wIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIk1hc29ucnkiLCJpdGVtU2VsZWN0b3IiLCJjb2x1bW5XaWR0aCIsImdldEZpcnN0SW1hZ2UiLCJsaXN0IiwiaXRlbSIsInVybCIsImFkZE1hc29ucnkiLCJkYXRhIiwiaSIsImxlbiIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJ0ZW1wbGF0ZSIsImluZm8iLCJfaWQiLCJKU09OIiwicGFyc2UiLCJpbWdMaXN0Iiwic3RhdGlzdGljcyIsInZpZXciLCJsaWtlIiwidHlwZSIsInRpdGxlIiwibG9jYXRpb24iLCJhdXRob3IiLCJhdmF0YXIiLCJuaWNrTmFtZSIsImFwcGVuZCIsInJlbG9hZEl0ZW1zIiwiaW5kZXgiLCIkd2luIiwiJGRvYyIsIndpbiIsImVsZW1lbnQiLCJkb2MiLCJpc0xhenlMb2FkaW5nIiwiZWxlbWVudHMiLCJfdWlkIiwiX2xpc3QiLCJwdXNoIiwiX2RhdGEiLCJzZXRUaW1lb3V0IiwiY2hlY2tJbWFnZSIsImRlbCIsImtleSIsInNpemUiLCJrZXlzIiwiZ2V0IiwiaXNWaXNpYmxlIiwiZWxlbSIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyZXQiLCJoZWlnaHQiLCJ3aWR0aCIsIngiLCJ0b3AiLCJNYXRoIiwibWF4IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJ5IiwibGVmdCIsImNsaWVudFdpZHRoIiwiaW5uZXJXaWR0aCIsImV2dCIsImxvYWQiLCJvZmYiLCJmb3JFYWNoIiwiaW5pdExhenlMb2FkIiwib24iLCJyZXN0cmljdCIsInNjb3BlIiwibGluayIsIiRlbGVtIiwiYXR0cnMiLCJzdHlsZSIsImNzc1RleHQiLCJjc3MiLCJtaW4td2lkdGgiLCJtaW4taGVpZ2h0IiwiYXR0ciIsImxhenlTcmMiLCIkZGVzdHJveSJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0FLVCxRQUFTQyxHQUFvQkMsR0FHNUIsR0FBR0MsRUFBaUJELEdBQ25CLE1BQU9DLEdBQWlCRCxHQUFVRSxPQUduQyxJQUFJQyxHQUFTRixFQUFpQkQsSUFDN0JFLFdBQ0FFLEdBQUlKLEVBQ0pLLFFBQVEsRUFVVCxPQU5BUCxHQUFRRSxHQUFVTSxLQUFLSCxFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTSCxHQUcvREksRUFBT0UsUUFBUyxFQUdURixFQUFPRCxRQXZCZixHQUFJRCxLQXFDSixPQVRBRixHQUFvQlEsRUFBSVQsRUFHeEJDLEVBQW9CUyxFQUFJUCxFQUd4QkYsRUFBb0JVLEVBQUksR0FHakJWLEVBQW9CLEtBSy9CLFNBQVNJLEVBQVFELEVBQVNILEdBRS9CLFlBa0JBLFNBQVNXLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBaEJ2RixHQUFJRyxHQUFTZixFQUFvQixHQUU3QmdCLEVBQVVMLEVBQXVCSSxHQUVqQ0UsRUFBU2pCLEVBQW9CLEdBRTdCa0IsRUFBVVAsRUFBdUJNLEdBRWpDRSxFQUFRbkIsRUFBb0IsR0FFNUJvQixFQUFT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S0FBTSxTQUFjckYsRUFBUXNGLEVBQU9DLEdBQ2pDRCxFQUFNLEdBQUdFLE1BQU1DLFNBQVdILEVBQU1yRSxLQUFLLFVBQVdxRSxFQUFNLEdBQUdFLE1BQU1DLFNBQy9ESCxFQUFNSSxLQUFNQyxZQUFhLE1BQU9DLGFBQWMsUUFFOUM3QyxFQUFTRyxNQUNQVSxLQUFNMEIsRUFDTlIsS0FBTSxTQUFjdkIsR0FNbEIsTUFMQStCLEdBQU1yRSxLQUFLLGFBQWVxRSxFQUFNLEdBQUdFLE1BQU1DLFFBQVVILEVBQU1yRSxLQUFLLFlBQzlEcUUsRUFBTS9FLFlBQVksZUFDbEIrRSxFQUFNTyxLQUFLLE1BQU9OLEVBQU1PLFNBQ3hCdkMsR0FBTyxHQUFLUixFQUFTTyxJQUFJQyxHQUN6QnZELEVBQU8rRixZQUNBLEtBR1hkLFFBSU4vRyxHQUFBQSxXQUFrQjBCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG5cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG5cblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblx0dmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cblx0dmFyIF9sb2dpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIF9sb2dpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2dpbik7XG5cblx0dmFyIF9nb29kID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgX2dvb2QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ29vZCk7XG5cblx0dmFyIF9sYXp5SW1hZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG5cdHZhciBfbGF6eUltYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xhenlJbWFnZSk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHQvL+aOp+WItuWZqFxuXG5cblx0d2luZG93LlJNID0gZnVuY3Rpb24gKCkge1xuXHQgIGlmICh3aW5kb3cuTSkgd2luZG93Lk0ubGF5b3V0KCk7XG5cdH07XG5cdC8v5oyH5Luk6ZuGXG5cblxuXHRhbmd1bGFyLm1vZHVsZSgnS2FvbGEnLCBbJ0thb2xhLnRvb2xzJ10pLmNvbnRyb2xsZXIoX2luZGV4Mi5kZWZhdWx0WzBdLCBfaW5kZXgyLmRlZmF1bHRbMV0pLmNvbnRyb2xsZXIoX2xvZ2luMi5kZWZhdWx0WzBdLCBfbG9naW4yLmRlZmF1bHRbMV0pLmNvbnRyb2xsZXIoX2dvb2QyLmRlZmF1bHRbMF0sIF9nb29kMi5kZWZhdWx0WzFdKS5kaXJlY3RpdmUoX2xhenlJbWFnZTIuZGVmYXVsdFswXSwgX2xhenlJbWFnZTIuZGVmYXVsdFsxXSk7XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBjb250cm9sbGVyID0gWydJbmRleEN0cmwnLCBbJyRzY29wZScsICckaHR0cCcsICckZmlsdGVyJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRmaWx0ZXIpIHtcblx0ICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+PSAyODApIHtcblx0ICAgICAgJCgnLm5hdmJhcicpLnJlbW92ZUNsYXNzKCdvcGFjaXR5Jyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAkKCcubmF2YmFyJykuYWRkQ2xhc3MoJ29wYWNpdHknKTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICB3aW5kb3cuTSA9IG5ldyBNYXNvbnJ5KCcuanMtbWFzb25yeScsIHtcblx0ICAgIC8vIG9wdGlvbnMuLi5cblx0ICAgIGl0ZW1TZWxlY3RvcjogJy5ncmlkLWl0ZW0nLFxuXHQgICAgY29sdW1uV2lkdGg6IDEwXG5cdCAgfSk7XG5cdCAgdmFyIGdldEZpcnN0SW1hZ2UgPSBmdW5jdGlvbiBnZXRGaXJzdEltYWdlKGxpc3QpIHtcblx0ICAgIGZvciAodmFyIGl0ZW0gaW4gbGlzdCkge1xuXHQgICAgICByZXR1cm4gbGlzdFtpdGVtXS51cmw7XG5cdCAgICAgIGJyZWFrO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgdmFyIGFkZE1hc29ucnkgPSBmdW5jdGlvbiBhZGRNYXNvbnJ5KGRhdGEpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgIGNvbnNvbGUubG9nKGRhdGFbaV0pO1xuXHQgICAgICB2YXIgdGVtcGxhdGUgPSAnXFxuICAgICAgICAgICAgPGxpIGNsYXNzPVxcJ2dyaWQtaXRlbVxcJz5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFwnaW1nLWJveFxcJz5cXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XFwnaW1nXFwnIGhyZWY9XFwnLycgKyAoZGF0YVtpXS5pbmZvID8gJ2dvb2QnIDogJ2FydGljbGUnKSArICcvJyArIGRhdGFbaV0uX2lkICsgJ1xcJz5cXG4gICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cXCcnICsgZ2V0Rmlyc3RJbWFnZShKU09OLnBhcnNlKGRhdGFbaV0uaW1nTGlzdCkpICsgJ1xcJyBvbmxvYWQ9XFwnUk0oKVxcJy8+XFxuICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFwnbnVtXFwnPlxcbiAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcJ3dhdGNoLW51bVxcJyBocmVmPVxcJ2phdmFzY3JpcHQ6O1xcJz5cXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcJ2ZhIGZhLWV5ZVxcJz48L2k+ICcgKyBkYXRhW2ldLnN0YXRpc3RpY3MudmlldyArICdcXG4gICAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFwnbGlrZS1udW1cXCcgaHJlZj1cXCdqYXZhc2NyaXB0OjtcXCc+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXCdmYSBmYS1oZWFydFxcJz48L2k+ICcgKyBkYXRhW2ldLnN0YXRpc3RpY3MubGlrZSArICdcXG4gICAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgIDwvcD5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXCdjbGVhcmZpeFxcJz5cXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XFwnaW1nLW5hbWVcXCcgaHJlZj1cXCcvJyArIChkYXRhW2ldLnR5cGUgPT09ICdnb29kJyA/ICdnb29kJyA6ICdhcnRpY2xlJykgKyAnLycgKyBkYXRhW2ldLl9pZCArICdcXCc+JyArIGRhdGFbaV0udGl0bGUgKyAnPC9hPlxcbiAgICAgICAgICAgICAgICAnICsgKGRhdGFbaV0uaW5mbyA/ICc8cCBjbGFzcz1cXCdzb3J0XFwnPjxpIGNsYXNzPVxcJ2ZhIGZhLWxvY2F0aW9uLWFycm93XFwnPjwvaT4gJyArIGRhdGFbaV0uaW5mby5sb2NhdGlvbiArICc8L3A+JyA6ICcnKSArICdcXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XFwnbWV0aG9kIGNsZWZhZml4XFwnIGhyZWY9XFwnL3VzZXJzLycgKyBkYXRhW2ldLmF1dGhvci5faWQgKyAnXFwnPlxcbiAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVxcJ2JhY2tncm91bmQtaW1hZ2U6dXJsKCcgKyBkYXRhW2ldLmF1dGhvci5hdmF0YXIgKyAnKTtcXCc+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgIDxiPicgKyBkYXRhW2ldLmF1dGhvci5uaWNrTmFtZSArICc8L2I+XFxuICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvbGk+Jztcblx0ICAgICAgJCgnLmpzLW1hc29ucnknKS5hcHBlbmQodGVtcGxhdGUpO1xuXHQgICAgICB3aW5kb3cuTS5yZWxvYWRJdGVtcygpO1xuXHQgICAgfTtcblx0ICB9O1xuXHQgIGFkZE1hc29ucnkod2luZG93Lmxpc3QpO1xuXHR9XV07XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNvbnRyb2xsZXI7XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBjb250cm9sbGVyID0gWydMb2dpbkN0cmwnLCBbJyRzY29wZScsICckaHR0cCcsICckZmlsdGVyJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRmaWx0ZXIpIHtcblx0ICAkc2NvcGUuaW5kZXggPSAneHgnO1xuXHR9XV07XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNvbnRyb2xsZXI7XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBjb250cm9sbGVyID0gWydHb29kQ3RybCcsIFsnJHNjb3BlJywgJyRodHRwJywgJyRmaWx0ZXInLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJGZpbHRlcikge1xuXHQgICRzY29wZS5pbmRleCA9ICd4eCc7XG5cdH1dXTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gY29udHJvbGxlcjtcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIGRpcmVjdGl2ZSA9IFsnbGF6eVNyYycsIFsnJHdpbmRvdycsICckZG9jdW1lbnQnLCBmdW5jdGlvbiAoJHdpbiwgJGRvYykge1xuXHQgIHZhciB3aW4gPSBhbmd1bGFyLmVsZW1lbnQoJHdpbik7XG5cdCAgdmFyIGRvYyA9ICRkb2NbMF07XG5cdCAgdmFyIGlzTGF6eUxvYWRpbmcgPSBmYWxzZTtcblx0ICAvL+eUqOadpee7tOaKpOW9k+WJjemcgOimgWxhenlsb2Fk55qE5Zu+54mH6ZuG5ZCIXG5cdCAgdmFyIGVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIF91aWQgPSAwO1xuXHQgICAgdmFyIF9saXN0ID0ge307XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBwdXNoOiBmdW5jdGlvbiBwdXNoKF9kYXRhKSB7XG5cdCAgICAgICAgX2xpc3RbX3VpZCsrXSA9IF9kYXRhO1xuXHQgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgY2hlY2tJbWFnZShfZGF0YSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0sXG5cdCAgICAgIGRlbDogZnVuY3Rpb24gZGVsKGtleSkge1xuXHQgICAgICAgIF9saXN0W2tleV0gJiYgZGVsZXRlIF9saXN0W2tleV07XG5cdCAgICAgIH0sXG5cdCAgICAgIHNpemU6IGZ1bmN0aW9uIHNpemUoKSB7XG5cdCAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKF9saXN0KS5sZW5ndGg7XG5cdCAgICAgIH0sXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiBfbGlzdDtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9KCk7XG5cdCAgLy/liKTmlq3lm77niYflhYPntKDmmK/lkKblnKjlj6/op4bljLrln5/lhoXvvIzlpoLmnpzotoXlh7oxLzPlj6/op4HvvIzliJnmmL7npLpcblx0ICB2YXIgaXNWaXNpYmxlID0gZnVuY3Rpb24gaXNWaXNpYmxlKGVsZW0pIHtcblx0ICAgIHZhciByZWN0ID0gZWxlbVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0ICAgIHZhciByZXQgPSB0cnVlO1xuXHQgICAgaWYgKHJlY3QuaGVpZ2h0ID4gMCAmJiByZWN0LndpZHRoID4gMCkge1xuXHQgICAgICB2YXIgeCA9IHJlY3QudG9wID4gMCAmJiByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMyA8IE1hdGgubWF4KGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCB3aW4uaW5uZXJIZWlnaHQgfHwgMCk7XG5cdCAgICAgIHZhciB5ID0gcmVjdC5sZWZ0ID4gMCAmJiByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMyA8IE1hdGgubWF4KGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsIHdpbi5pbm5lcldpZHRoIHx8IDApO1xuXHQgICAgICByZXQgPSB4ICYmIHk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHQgIH07XG5cdCAgLy/mr4/mrKFzY3JvbGzml7bvvIzosIPnlKhjaGVja0ltYWdl77yM5b6q546v5qOA5p+l5Zu+54mHXG5cdCAgdmFyIGNoZWNrSW1hZ2UgPSBmdW5jdGlvbiBjaGVja0ltYWdlKGV2dCwgaSwgaXRlbSkge1xuXHQgICAgaWYgKGkgPj0gMCAmJiBpdGVtKSB7XG5cdCAgICAgIHJldHVybiBpc1Zpc2libGUoaXRlbS5lbGVtKSA/IGl0ZW0ubG9hZChpKSA6IGZhbHNlOyAvL+aMh+WumuajgOafpe+8jOi/lOWbnuaYr+WQpuaYvuekulxuXHQgICAgfSBlbHNlIGlmIChlbGVtZW50cy5zaXplKCkgPT0gMCkge1xuXHQgICAgICAgIC8v5YWo6YOo5pi+56S65LmL5ZCO77yM6Kej6Zmk57uR5a6aXG5cdCAgICAgICAgd2luLm9mZignc2Nyb2xsJywgY2hlY2tJbWFnZSk7XG5cdCAgICAgICAgd2luLm9mZigncmVzaXplJywgY2hlY2tJbWFnZSk7XG5cdCAgICAgICAgaXNMYXp5TG9hZGluZyA9IGZhbHNlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChlbGVtZW50cy5nZXQoKSwgZnVuY3Rpb24gKGl0ZW0sIGtleSkge1xuXHQgICAgICAgICAgLy/lvqrnjq/mo4Dmn6Vcblx0ICAgICAgICAgIGlzVmlzaWJsZShpdGVtLmVsZW0pICYmIGl0ZW0ubG9hZChrZXkpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgfTtcblx0ICAvL+WIneWni+WMlu+8jOe7keWumnNjcm9sbFxuXHQgIC8v5aaC5p6c5bey57uP5YWo6YOo5pi+56S65LqG77yM5Lyab2Zm77yM6Iul5pyJ5paw55qE5oyH5Luk77yIYWpheOOAgWpz6L295YWl6ZyA6KaBbGF6eWxvYWTnmoTlhoXlrrnvvInvvIzkvJrph43mlrDnu5HlrppzY3JvbGxcblx0ICB2YXIgaW5pdExhenlMb2FkID0gZnVuY3Rpb24gaW5pdExhenlMb2FkKCkge1xuXHQgICAgaWYgKGlzTGF6eUxvYWRpbmcgPT09IGZhbHNlKSB7XG5cdCAgICAgIGlzTGF6eUxvYWRpbmcgPSB0cnVlO1xuXHQgICAgICB3aW4ub24oJ3Njcm9sbCcsIGNoZWNrSW1hZ2UpO1xuXHQgICAgICB3aW4ub24oJ3Jlc2l6ZScsIGNoZWNrSW1hZ2UpO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgcmV0dXJuIHtcblx0ICAgIHJlc3RyaWN0OiAnQScsIC8v5LuF5Y+v5Lul5L2/55SoICBhdHRyXG5cdCAgICBzY29wZToge30sIC8v54us56uL55qEc2NvcGVcblx0ICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoJHNjb3BlLCAkZWxlbSwgYXR0cnMpIHtcblx0ICAgICAgJGVsZW1bMF0uc3R5bGUuY3NzVGV4dCAmJiAkZWxlbS5kYXRhKCdjc3NUZXh0JywgJGVsZW1bMF0uc3R5bGUuY3NzVGV4dCk7XG5cdCAgICAgICRlbGVtLmNzcyh7ICdtaW4td2lkdGgnOiAnMXB4JywgJ21pbi1oZWlnaHQnOiAnMXB4JyB9KTtcblx0ICAgICAgLy/kvKDlm57osIPlj4LmlbDvvIzkuI0kd2F0Y2gg54q25oCB77yM5Lul5YWN5aKe5Yqg6L+H5aSaXG5cdCAgICAgIGVsZW1lbnRzLnB1c2goe1xuXHQgICAgICAgIGVsZW06ICRlbGVtLFxuXHQgICAgICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoa2V5KSB7XG5cdCAgICAgICAgICAkZWxlbS5kYXRhKCdjc3NUZXh0JykgJiYgKCRlbGVtWzBdLnN0eWxlLmNzc1RleHQgPSAkZWxlbS5kYXRhKCdjc3NUZXh0JykpO1xuXHQgICAgICAgICAgJGVsZW0ucmVtb3ZlQ2xhc3MoJ25nLWxhenlsb2FkJyk7XG5cdCAgICAgICAgICAkZWxlbS5hdHRyKCdzcmMnLCBhdHRycy5sYXp5U3JjKTtcblx0ICAgICAgICAgIGtleSA+PSAwICYmIGVsZW1lbnRzLmRlbChrZXkpO1xuXHQgICAgICAgICAgJHNjb3BlLiRkZXN0cm95KCk7XG5cdCAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBpbml0TGF6eUxvYWQoKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XV07XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGRpcmVjdGl2ZTtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
