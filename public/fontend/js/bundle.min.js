!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var i=n(1),o=a(i),r=n(2),s=a(r),l=n(3),c=a(l);window.RM=function(){window.M&&window.M.layout()},angular.module("Kaola",["Kaola.tools"]).controller(o["default"][0],o["default"][1]).controller(s["default"][0],s["default"][1]).directive(c["default"][0],c["default"][1])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["IndexCtrl",["$scope","$http","$filter",function(e,t,n){$(window).scroll(function(){$(document).scrollTop()>=280?$(".navbar").removeClass("opacity"):$(".navbar").addClass("opacity")}),window.M=new Masonry(".js-masonry",{itemSelector:".grid-item",columnWidth:10});var a=function(e){for(var t in e)return e[t].url},i=function(e){for(var t=0,n=e.length;n>t;t++){console.log(e[t]);var i="\n            <li class='grid-item'>\n              <div class='img-box'>\n                <a class='img' href='/"+(e[t].info?"good":"article")+"/"+e[t]._id+"'>\n                  <img src='"+a(JSON.parse(e[t].imgList))+"' onload='RM()'/>\n                </a>\n                <p class='num'>\n                  <a class='watch-num' href='javascript:;'>\n                    <i class='fa fa-eye'></i> "+e[t].statistics.view+"\n                  </a>\n                  <a class='like-num' href='javascript:;'>\n                    <i class='fa fa-heart'></i> "+e[t].statistics.like+"\n                  </a>\n                </p>\n              </div>\n              <div class='clearfix'>\n                <a class='img-name' href='/"+("good"===e[t].type?"good":"article")+"/"+e[t]._id+"'>"+e[t].title+"</a>\n                "+(e[t].info?"<p class='sort'><i class='fa fa-location-arrow'></i> "+e[t].info.location+"</p>":"")+"\n                <a class='method clefafix' href='/users/"+e[t].author._id+"'>\n                  <span style='background-image:url("+e[t].author.avatar+");'></span>\n                  <b>"+e[t].author.nickName+"</b>\n                </a>\n              </div>\n            </li>";$(".js-masonry").append(i),window.M.reloadItems()}};i(window.list)}]];t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["LoginCtrl",["$scope","$http","$filter",function(e,t,n){e.index="xx"}]];t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["lazySrc",["$window","$document",function(e,t){var n=angular.element(e),a=t[0],i=!1,o=function(){var e=0,t={};return{push:function(n){t[e++]=n,setTimeout(function(){s(n)})},del:function(e){t[e]&&delete t[e]},size:function(){return Object.keys(t).length},get:function(){return t}}}(),r=function(e){var t=e[0].getBoundingClientRect(),i=!0;if(t.height>0&&t.width>0){var o=t.top>0&&t.top+t.height/3<Math.max(a.documentElement.clientHeight,n.innerHeight||0),r=t.left>0&&t.left+t.width/3<Math.max(a.documentElement.clientWidth,n.innerWidth||0);i=o&&r}return i},s=function c(e,t,a){return t>=0&&a?r(a.elem)?a.load(t):!1:void(0==o.size()?(n.off("scroll",c),n.off("resize",c),i=!1):angular.forEach(o.get(),function(e,t){r(e.elem)&&e.load(t)}))},l=function(){i===!1&&(i=!0,n.on("scroll",s),n.on("resize",s))};return{restrict:"A",scope:{},link:function(e,t,n){t[0].style.cssText&&t.data("cssText",t[0].style.cssText),t.css({"min-width":"1px","min-height":"1px"}),o.push({elem:t,load:function(a){return t.data("cssText")&&(t[0].style.cssText=t.data("cssText")),t.removeClass("ng-lazyload"),t.attr("src",n.lazySrc),a>=0&&o.del(a),e.$destroy(),!0}}),l()}}}]];t["default"]=n}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfaW5kZXgiLCJfaW5kZXgyIiwiX2xvZ2luIiwiX2xvZ2luMiIsIl9sYXp5SW1hZ2UiLCJfbGF6eUltYWdlMiIsIndpbmRvdyIsIlJNIiwiTSIsImxheW91dCIsImFuZ3VsYXIiLCJjb250cm9sbGVyIiwiZGlyZWN0aXZlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIiRzY29wZSIsIiRodHRwIiwiJGZpbHRlciIsIiQiLCJzY3JvbGwiLCJkb2N1bWVudCIsInNjcm9sbFRvcCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJNYXNvbnJ5IiwiaXRlbVNlbGVjdG9yIiwiY29sdW1uV2lkdGgiLCJnZXRGaXJzdEltYWdlIiwibGlzdCIsIml0ZW0iLCJ1cmwiLCJhZGRNYXNvbnJ5IiwiZGF0YSIsImkiLCJsZW4iLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwidGVtcGxhdGUiLCJpbmZvIiwiX2lkIiwiSlNPTiIsInBhcnNlIiwiaW1nTGlzdCIsInN0YXRpc3RpY3MiLCJ2aWV3IiwibGlrZSIsInR5cGUiLCJ0aXRsZSIsImxvY2F0aW9uIiwiYXV0aG9yIiwiYXZhdGFyIiwibmlja05hbWUiLCJhcHBlbmQiLCJyZWxvYWRJdGVtcyIsImluZGV4IiwiJHdpbiIsIiRkb2MiLCJ3aW4iLCJlbGVtZW50IiwiZG9jIiwiaXNMYXp5TG9hZGluZyIsImVsZW1lbnRzIiwiX3VpZCIsIl9saXN0IiwicHVzaCIsIl9kYXRhIiwic2V0VGltZW91dCIsImNoZWNrSW1hZ2UiLCJkZWwiLCJrZXkiLCJzaXplIiwia2V5cyIsImdldCIsImlzVmlzaWJsZSIsImVsZW0iLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmV0IiwiaGVpZ2h0Iiwid2lkdGgiLCJ4IiwidG9wIiwiTWF0aCIsIm1heCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudEhlaWdodCIsImlubmVySGVpZ2h0IiwieSIsImxlZnQiLCJjbGllbnRXaWR0aCIsImlubmVyV2lkdGgiLCJldnQiLCJsb2FkIiwib2ZmIiwiZm9yRWFjaCIsImluaXRMYXp5TG9hZCIsIm9uIiwicmVzdHJpY3QiLCJzY29wZSIsImxpbmsiLCIkZWxlbSIsImF0dHJzIiwic3R5bGUiLCJjc3NUZXh0IiwiY3NzIiwibWluLXdpZHRoIiwibWluLWhlaWdodCIsImF0dHIiLCJsYXp5U3JjIiwiJGRlc3Ryb3kiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdBS1QsUUFBU0MsR0FBb0JDLEdBRzVCLEdBQUdDLEVBQWlCRCxHQUNuQixNQUFPQyxHQUFpQkQsR0FBVUUsT0FHbkMsSUFBSUMsR0FBU0YsRUFBaUJELElBQzdCRSxXQUNBRSxHQUFJSixFQUNKSyxRQUFRLEVBVVQsT0FOQVAsR0FBUUUsR0FBVU0sS0FBS0gsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0gsR0FHL0RJLEVBQU9FLFFBQVMsRUFHVEYsRUFBT0QsUUF2QmYsR0FBSUQsS0FxQ0osT0FUQUYsR0FBb0JRLEVBQUlULEVBR3hCQyxFQUFvQlMsRUFBSVAsRUFHeEJGLEVBQW9CVSxFQUFJLEdBR2pCVixFQUFvQixLQUsvQixTQUFTSSxFQUFRRCxFQUFTSCxHQUUvQixZQWNBLFNBQVNXLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBWnZGLEdBQUlHLEdBQVNmLEVBQW9CLEdBRTdCZ0IsRUFBVUwsRUFBdUJJLEdBRWpDRSxFQUFTakIsRUFBb0IsR0FFN0JrQixFQUFVUCxFQUF1Qk0sR0FFakNFLEVBQWFuQixFQUFvQixHQUVqQ29CLEVBQWNULEVBQXVCUSxFQUl6Q0UsUUFB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LGVBQ2xCK0UsRUFBTU8sS0FBSyxNQUFPTixFQUFNTyxTQUN4QnZDLEdBQU8sR0FBS1IsRUFBU08sSUFBSUMsR0FDekJ2RCxFQUFPK0YsWUFDQSxLQUdYZCxRQUlON0csR0FBQUEsV0FBa0J3QiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfaW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cdHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXG5cdHZhciBfbG9naW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBfbG9naW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9naW4pO1xuXG5cdHZhciBfbGF6eUltYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgX2xhenlJbWFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sYXp5SW1hZ2UpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0d2luZG93LlJNID0gZnVuY3Rpb24gKCkge1xuXHQgIGlmICh3aW5kb3cuTSkgd2luZG93Lk0ubGF5b3V0KCk7XG5cdH07XG5cdC8v5oyH5Luk6ZuGXG5cblx0Ly/mjqfliLblmahcblxuXG5cdGFuZ3VsYXIubW9kdWxlKCdLYW9sYScsIFsnS2FvbGEudG9vbHMnXSkuY29udHJvbGxlcihfaW5kZXgyLmRlZmF1bHRbMF0sIF9pbmRleDIuZGVmYXVsdFsxXSkuY29udHJvbGxlcihfbG9naW4yLmRlZmF1bHRbMF0sIF9sb2dpbjIuZGVmYXVsdFsxXSkuZGlyZWN0aXZlKF9sYXp5SW1hZ2UyLmRlZmF1bHRbMF0sIF9sYXp5SW1hZ2UyLmRlZmF1bHRbMV0pO1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgY29udHJvbGxlciA9IFsnSW5kZXhDdHJsJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJGZpbHRlcicsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkZmlsdGVyKSB7XG5cdCAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPj0gMjgwKSB7XG5cdCAgICAgICQoJy5uYXZiYXInKS5yZW1vdmVDbGFzcygnb3BhY2l0eScpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgJCgnLm5hdmJhcicpLmFkZENsYXNzKCdvcGFjaXR5Jyk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgd2luZG93Lk0gPSBuZXcgTWFzb25yeSgnLmpzLW1hc29ucnknLCB7XG5cdCAgICAvLyBvcHRpb25zLi4uXG5cdCAgICBpdGVtU2VsZWN0b3I6ICcuZ3JpZC1pdGVtJyxcblx0ICAgIGNvbHVtbldpZHRoOiAxMFxuXHQgIH0pO1xuXHQgIHZhciBnZXRGaXJzdEltYWdlID0gZnVuY3Rpb24gZ2V0Rmlyc3RJbWFnZShsaXN0KSB7XG5cdCAgICBmb3IgKHZhciBpdGVtIGluIGxpc3QpIHtcblx0ICAgICAgcmV0dXJuIGxpc3RbaXRlbV0udXJsO1xuXHQgICAgICBicmVhaztcblx0ICAgIH1cblx0ICB9O1xuXHQgIHZhciBhZGRNYXNvbnJ5ID0gZnVuY3Rpb24gYWRkTWFzb25yeShkYXRhKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICBjb25zb2xlLmxvZyhkYXRhW2ldKTtcblx0ICAgICAgdmFyIHRlbXBsYXRlID0gJ1xcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cXCdncmlkLWl0ZW1cXCc+XFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcJ2ltZy1ib3hcXCc+XFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcJ2ltZ1xcJyBocmVmPVxcJy8nICsgKGRhdGFbaV0uaW5mbyA/ICdnb29kJyA6ICdhcnRpY2xlJykgKyAnLycgKyBkYXRhW2ldLl9pZCArICdcXCc+XFxuICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XFwnJyArIGdldEZpcnN0SW1hZ2UoSlNPTi5wYXJzZShkYXRhW2ldLmltZ0xpc3QpKSArICdcXCcgb25sb2FkPVxcJ1JNKClcXCcvPlxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcJ251bVxcJz5cXG4gICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXCd3YXRjaC1udW1cXCcgaHJlZj1cXCdqYXZhc2NyaXB0OjtcXCc+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXCdmYSBmYS1leWVcXCc+PC9pPiAnICsgZGF0YVtpXS5zdGF0aXN0aWNzLnZpZXcgKyAnXFxuICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcJ2xpa2UtbnVtXFwnIGhyZWY9XFwnamF2YXNjcmlwdDo7XFwnPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFwnZmEgZmEtaGVhcnRcXCc+PC9pPiAnICsgZGF0YVtpXS5zdGF0aXN0aWNzLmxpa2UgKyAnXFxuICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICA8L3A+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFwnY2xlYXJmaXhcXCc+XFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcJ2ltZy1uYW1lXFwnIGhyZWY9XFwnLycgKyAoZGF0YVtpXS50eXBlID09PSAnZ29vZCcgPyAnZ29vZCcgOiAnYXJ0aWNsZScpICsgJy8nICsgZGF0YVtpXS5faWQgKyAnXFwnPicgKyBkYXRhW2ldLnRpdGxlICsgJzwvYT5cXG4gICAgICAgICAgICAgICAgJyArIChkYXRhW2ldLmluZm8gPyAnPHAgY2xhc3M9XFwnc29ydFxcJz48aSBjbGFzcz1cXCdmYSBmYS1sb2NhdGlvbi1hcnJvd1xcJz48L2k+ICcgKyBkYXRhW2ldLmluZm8ubG9jYXRpb24gKyAnPC9wPicgOiAnJykgKyAnXFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcJ21ldGhvZCBjbGVmYWZpeFxcJyBocmVmPVxcJy91c2Vycy8nICsgZGF0YVtpXS5hdXRob3IuX2lkICsgJ1xcJz5cXG4gICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cXCdiYWNrZ3JvdW5kLWltYWdlOnVybCgnICsgZGF0YVtpXS5hdXRob3IuYXZhdGFyICsgJyk7XFwnPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICA8Yj4nICsgZGF0YVtpXS5hdXRob3Iubmlja05hbWUgKyAnPC9iPlxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2xpPic7XG5cdCAgICAgICQoJy5qcy1tYXNvbnJ5JykuYXBwZW5kKHRlbXBsYXRlKTtcblx0ICAgICAgd2luZG93Lk0ucmVsb2FkSXRlbXMoKTtcblx0ICAgIH07XG5cdCAgfTtcblx0ICBhZGRNYXNvbnJ5KHdpbmRvdy5saXN0KTtcblx0fV1dO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBjb250cm9sbGVyO1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgY29udHJvbGxlciA9IFsnTG9naW5DdHJsJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJGZpbHRlcicsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkZmlsdGVyKSB7XG5cdCAgJHNjb3BlLmluZGV4ID0gJ3h4Jztcblx0fV1dO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBjb250cm9sbGVyO1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgZGlyZWN0aXZlID0gWydsYXp5U3JjJywgWyckd2luZG93JywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uICgkd2luLCAkZG9jKSB7XG5cdCAgdmFyIHdpbiA9IGFuZ3VsYXIuZWxlbWVudCgkd2luKTtcblx0ICB2YXIgZG9jID0gJGRvY1swXTtcblx0ICB2YXIgaXNMYXp5TG9hZGluZyA9IGZhbHNlO1xuXHQgIC8v55So5p2l57u05oqk5b2T5YmN6ZyA6KaBbGF6eWxvYWTnmoTlm77niYfpm4blkIhcblx0ICB2YXIgZWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgX3VpZCA9IDA7XG5cdCAgICB2YXIgX2xpc3QgPSB7fTtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goX2RhdGEpIHtcblx0ICAgICAgICBfbGlzdFtfdWlkKytdID0gX2RhdGE7XG5cdCAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBjaGVja0ltYWdlKF9kYXRhKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSxcblx0ICAgICAgZGVsOiBmdW5jdGlvbiBkZWwoa2V5KSB7XG5cdCAgICAgICAgX2xpc3Rba2V5XSAmJiBkZWxldGUgX2xpc3Rba2V5XTtcblx0ICAgICAgfSxcblx0ICAgICAgc2l6ZTogZnVuY3Rpb24gc2l6ZSgpIHtcblx0ICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoX2xpc3QpLmxlbmd0aDtcblx0ICAgICAgfSxcblx0ICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgcmV0dXJuIF9saXN0O1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH0oKTtcblx0ICAvL+WIpOaWreWbvueJh+WFg+e0oOaYr+WQpuWcqOWPr+inhuWMuuWfn+WGhe+8jOWmguaenOi2heWHujEvM+WPr+inge+8jOWImeaYvuekulxuXHQgIHZhciBpc1Zpc2libGUgPSBmdW5jdGlvbiBpc1Zpc2libGUoZWxlbSkge1xuXHQgICAgdmFyIHJlY3QgPSBlbGVtWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHQgICAgdmFyIHJldCA9IHRydWU7XG5cdCAgICBpZiAocmVjdC5oZWlnaHQgPiAwICYmIHJlY3Qud2lkdGggPiAwKSB7XG5cdCAgICAgIHZhciB4ID0gcmVjdC50b3AgPiAwICYmIHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAzIDwgTWF0aC5tYXgoZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIHdpbi5pbm5lckhlaWdodCB8fCAwKTtcblx0ICAgICAgdmFyIHkgPSByZWN0LmxlZnQgPiAwICYmIHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAzIDwgTWF0aC5tYXgoZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwgd2luLmlubmVyV2lkdGggfHwgMCk7XG5cdCAgICAgIHJldCA9IHggJiYgeTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXQ7XG5cdCAgfTtcblx0ICAvL+avj+asoXNjcm9sbOaXtu+8jOiwg+eUqGNoZWNrSW1hZ2XvvIzlvqrnjq/mo4Dmn6Xlm77niYdcblx0ICB2YXIgY2hlY2tJbWFnZSA9IGZ1bmN0aW9uIGNoZWNrSW1hZ2UoZXZ0LCBpLCBpdGVtKSB7XG5cdCAgICBpZiAoaSA+PSAwICYmIGl0ZW0pIHtcblx0ICAgICAgcmV0dXJuIGlzVmlzaWJsZShpdGVtLmVsZW0pID8gaXRlbS5sb2FkKGkpIDogZmFsc2U7IC8v5oyH5a6a5qOA5p+l77yM6L+U5Zue5piv5ZCm5pi+56S6XG5cdCAgICB9IGVsc2UgaWYgKGVsZW1lbnRzLnNpemUoKSA9PSAwKSB7XG5cdCAgICAgICAgLy/lhajpg6jmmL7npLrkuYvlkI7vvIzop6PpmaTnu5Hlrppcblx0ICAgICAgICB3aW4ub2ZmKCdzY3JvbGwnLCBjaGVja0ltYWdlKTtcblx0ICAgICAgICB3aW4ub2ZmKCdyZXNpemUnLCBjaGVja0ltYWdlKTtcblx0ICAgICAgICBpc0xhenlMb2FkaW5nID0gZmFsc2U7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgYW5ndWxhci5mb3JFYWNoKGVsZW1lbnRzLmdldCgpLCBmdW5jdGlvbiAoaXRlbSwga2V5KSB7XG5cdCAgICAgICAgICAvL+W+queOr+ajgOafpVxuXHQgICAgICAgICAgaXNWaXNpYmxlKGl0ZW0uZWxlbSkgJiYgaXRlbS5sb2FkKGtleSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICB9O1xuXHQgIC8v5Yid5aeL5YyW77yM57uR5a6ac2Nyb2xsXG5cdCAgLy/lpoLmnpzlt7Lnu4/lhajpg6jmmL7npLrkuobvvIzkvJpvZmbvvIzoi6XmnInmlrDnmoTmjIfku6TvvIhhamF444CBanPovb3lhaXpnIDopoFsYXp5bG9hZOeahOWGheWuue+8ie+8jOS8mumHjeaWsOe7keWumnNjcm9sbFxuXHQgIHZhciBpbml0TGF6eUxvYWQgPSBmdW5jdGlvbiBpbml0TGF6eUxvYWQoKSB7XG5cdCAgICBpZiAoaXNMYXp5TG9hZGluZyA9PT0gZmFsc2UpIHtcblx0ICAgICAgaXNMYXp5TG9hZGluZyA9IHRydWU7XG5cdCAgICAgIHdpbi5vbignc2Nyb2xsJywgY2hlY2tJbWFnZSk7XG5cdCAgICAgIHdpbi5vbigncmVzaXplJywgY2hlY2tJbWFnZSk7XG5cdCAgICB9XG5cdCAgfTtcblx0ICByZXR1cm4ge1xuXHQgICAgcmVzdHJpY3Q6ICdBJywgLy/ku4Xlj6/ku6Xkvb/nlKggIGF0dHJcblx0ICAgIHNjb3BlOiB7fSwgLy/ni6znq4vnmoRzY29wZVxuXHQgICAgbGluazogZnVuY3Rpb24gbGluaygkc2NvcGUsICRlbGVtLCBhdHRycykge1xuXHQgICAgICAkZWxlbVswXS5zdHlsZS5jc3NUZXh0ICYmICRlbGVtLmRhdGEoJ2Nzc1RleHQnLCAkZWxlbVswXS5zdHlsZS5jc3NUZXh0KTtcblx0ICAgICAgJGVsZW0uY3NzKHsgJ21pbi13aWR0aCc6ICcxcHgnLCAnbWluLWhlaWdodCc6ICcxcHgnIH0pO1xuXHQgICAgICAvL+S8oOWbnuiwg+WPguaVsO+8jOS4jSR3YXRjaCDnirbmgIHvvIzku6XlhY3lop7liqDov4flpJpcblx0ICAgICAgZWxlbWVudHMucHVzaCh7XG5cdCAgICAgICAgZWxlbTogJGVsZW0sXG5cdCAgICAgICAgbG9hZDogZnVuY3Rpb24gbG9hZChrZXkpIHtcblx0ICAgICAgICAgICRlbGVtLmRhdGEoJ2Nzc1RleHQnKSAmJiAoJGVsZW1bMF0uc3R5bGUuY3NzVGV4dCA9ICRlbGVtLmRhdGEoJ2Nzc1RleHQnKSk7XG5cdCAgICAgICAgICAkZWxlbS5yZW1vdmVDbGFzcygnbmctbGF6eWxvYWQnKTtcblx0ICAgICAgICAgICRlbGVtLmF0dHIoJ3NyYycsIGF0dHJzLmxhenlTcmMpO1xuXHQgICAgICAgICAga2V5ID49IDAgJiYgZWxlbWVudHMuZGVsKGtleSk7XG5cdCAgICAgICAgICAkc2NvcGUuJGRlc3Ryb3koKTtcblx0ICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIGluaXRMYXp5TG9hZCgpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1dXTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZGlyZWN0aXZlO1xuXG4vKioqLyB9XG4vKioqKioqLyBdKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
