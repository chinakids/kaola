!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var i=n(1),o=a(i),r=n(2),s=a(r),l=n(3),c=a(l);window.RM=function(){window.M&&window.M.layout()},angular.module("Kaola",["Kaola.tools"]).controller(o["default"][0],o["default"][1]).controller(s["default"][0],s["default"][1]).directive(c["default"][0],c["default"][1])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["IndexCtrl",["$scope","$http","$filter",function(e,t,n){$(window).scroll(function(){$(document).scrollTop()>=280?$(".navbar").removeClass("opacity"):$(".navbar").addClass("opacity")}),window.M=new Masonry(".js-masonry",{itemSelector:".grid-item",columnWidth:10});var a=function(e){for(var t in e)return e[t].url},i=function(e){for(var t=0,n=e.length;n>t;t++){console.log(e[t]);var i="\n            <li class='grid-item'>\n              <div class='img-box'>\n                <a class='img' href='/"+(e[t].info?"good":"article")+"/"+e[t]._id+"'>\n                  <img src='"+a(JSON.parse(e[t].imgList))+"' onload='RM()'/>\n                </a>\n                <p class='num'>\n                  <a class='watch-num' href='javascript:;'>\n                    <i class='fa fa-eye'></i> "+e[t].statistics.view+"\n                  </a>\n                  <a class='like-num' href='javascript:;'>\n                    <i class='fa fa-heart'></i> "+e[t].statistics.like+"\n                  </a>\n                </p>\n              </div>\n              <div class='clearfix'>\n                <a class='img-name' href='/"+(e[t].info?"good":"article")+"/"+e[t]._id+"'>"+e[t].title+"</a>\n                "+(e[t].info?"<p class='sort'><i class='fa fa-location-arrow'></i> "+e[t].info.location+"</p>":"")+"\n                <a class='method clefafix' href='/users/"+e[t].author._id+"'>\n                  <span style='background-image:url("+e[t].author.avatar+");'></span>\n                  <b>"+e[t].author.nickName+"</b>\n                </a>\n              </div>\n            </li>";$(".js-masonry").append(i),window.M.reloadItems()}};i(window.list)}]];t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["LoginCtrl",["$scope","$http","$filter",function(e,t,n){e.index="xx"}]];t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["lazySrc",["$window","$document",function(e,t){var n=angular.element(e),a=t[0],i=!1,o=function(){var e=0,t={};return{push:function(n){t[e++]=n,setTimeout(function(){s(n)})},del:function(e){t[e]&&delete t[e]},size:function(){return Object.keys(t).length},get:function(){return t}}}(),r=function(e){var t=e[0].getBoundingClientRect(),i=!0;if(t.height>0&&t.width>0){var o=t.top>0&&t.top+t.height/3<Math.max(a.documentElement.clientHeight,n.innerHeight||0),r=t.left>0&&t.left+t.width/3<Math.max(a.documentElement.clientWidth,n.innerWidth||0);i=o&&r}return i},s=function c(e,t,a){return t>=0&&a?r(a.elem)?a.load(t):!1:void(0==o.size()?(n.off("scroll",c),n.off("resize",c),i=!1):angular.forEach(o.get(),function(e,t){r(e.elem)&&e.load(t)}))},l=function(){i===!1&&(i=!0,n.on("scroll",s),n.on("resize",s))};return{restrict:"A",scope:{},link:function(e,t,n){t[0].style.cssText&&t.data("cssText",t[0].style.cssText),t.css({"min-width":"1px","min-height":"1px"}),o.push({elem:t,load:function(a){return t.data("cssText")&&(t[0].style.cssText=t.data("cssText")),t.removeClass("ng-lazyload"),t.attr("src",n.lazySrc),a>=0&&o.del(a),e.$destroy(),!0}}),l()}}}]];t["default"]=n}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfaW5kZXgiLCJfaW5kZXgyIiwiX2xvZ2luIiwiX2xvZ2luMiIsIl9sYXp5SW1hZ2UiLCJfbGF6eUltYWdlMiIsIndpbmRvdyIsIlJNIiwiTSIsImxheW91dCIsImFuZ3VsYXIiLCJjb250cm9sbGVyIiwiZGlyZWN0aXZlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIiRzY29wZSIsIiRodHRwIiwiJGZpbHRlciIsIiQiLCJzY3JvbGwiLCJkb2N1bWVudCIsInNjcm9sbFRvcCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJNYXNvbnJ5IiwiaXRlbVNlbGVjdG9yIiwiY29sdW1uV2lkdGgiLCJnZXRGaXJzdEltYWdlIiwibGlzdCIsIml0ZW0iLCJ1cmwiLCJhZGRNYXNvbnJ5IiwiZGF0YSIsImkiLCJsZW4iLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwidGVtcGxhdGUiLCJpbmZvIiwiX2lkIiwiSlNPTiIsInBhcnNlIiwiaW1nTGlzdCIsInN0YXRpc3RpY3MiLCJ2aWV3IiwibGlrZSIsInRpdGxlIiwibG9jYXRpb24iLCJhdXRob3IiLCJhdmF0YXIiLCJuaWNrTmFtZSIsImFwcGVuZCIsInJlbG9hZEl0ZW1zIiwiaW5kZXgiLCIkd2luIiwiJGRvYyIsIndpbiIsImVsZW1lbnQiLCJkb2MiLCJpc0xhenlMb2FkaW5nIiwiZWxlbWVudHMiLCJfdWlkIiwiX2xpc3QiLCJwdXNoIiwiX2RhdGEiLCJzZXRUaW1lb3V0IiwiY2hlY2tJbWFnZSIsImRlbCIsImtleSIsInNpemUiLCJrZXlzIiwiZ2V0IiwiaXNWaXNpYmxlIiwiZWxlbSIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyZXQiLCJoZWlnaHQiLCJ3aWR0aCIsIngiLCJ0b3AiLCJNYXRoIiwibWF4IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJ5IiwibGVmdCIsImNsaWVudFdpZHRoIiwiaW5uZXJXaWR0aCIsImV2dCIsImxvYWQiLCJvZmYiLCJmb3JFYWNoIiwiaW5pdExhenlMb2FkIiwib24iLCJyZXN0cmljdCIsInNjb3BlIiwibGluayIsIiRlbGVtIiwiYXR0cnMiLCJzdHlsZSIsImNzc1RleHQiLCJjc3MiLCJtaW4td2lkdGgiLCJtaW4taGVpZ2h0IiwiYXR0ciIsImxhenlTcmMiLCIkZGVzdHJveSJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0FLVCxRQUFTQyxHQUFvQkMsR0FHNUIsR0FBR0MsRUFBaUJELEdBQ25CLE1BQU9DLEdBQWlCRCxHQUFVRSxPQUduQyxJQUFJQyxHQUFTRixFQUFpQkQsSUFDN0JFLFdBQ0FFLEdBQUlKLEVBQ0pLLFFBQVEsRUFVVCxPQU5BUCxHQUFRRSxHQUFVTSxLQUFLSCxFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTSCxHQUcvREksRUFBT0UsUUFBUyxFQUdURixFQUFPRCxRQXZCZixHQUFJRCxLQXFDSixPQVRBRixHQUFvQlEsRUFBSVQsRUFHeEJDLEVBQW9CUyxFQUFJUCxFQUd4QkYsRUFBb0JVLEVBQUksR0FHakJWLEVBQW9CLEtBSy9CLFNBQVNJLEVBQVFELEVBQVNILEdBRS9CLFlBY0EsU0FBU1csR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FadkYsR0FBSUcsR0FBU2YsRUFBb0IsR0FFN0JnQixFQUFVTCxFQUF1QkksR0FFakNFLEVBQVNqQixFQUFvQixHQUU3QmtCLEVBQVVQLEVBQXVCTSxHQUVqQ0UsRUFBYW5CLEVBQW9CLEdBRWpDb0IsRUFBY1QsRUFBdUJRLEVBSXpDRSxRQUFPQyxHQUFL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S0FBSyxNQUFPTixFQUFNTyxTQUN4QnZDLEdBQU8sR0FBS1IsRUFBU08sSUFBSUMsR0FDekJ0RCxFQUFPOEYsWUFDQSxLQUdYZCxRQUlONUcsR0FBQUEsV0FBa0J3QiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfaW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cdHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXG5cdHZhciBfbG9naW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBfbG9naW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9naW4pO1xuXG5cdHZhciBfbGF6eUltYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgX2xhenlJbWFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sYXp5SW1hZ2UpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0d2luZG93LlJNID0gZnVuY3Rpb24gKCkge1xuXHQgIGlmICh3aW5kb3cuTSkgd2luZG93Lk0ubGF5b3V0KCk7XG5cdH07XG5cdC8v5oyH5Luk6ZuGXG5cblx0Ly/mjqfliLblmahcblxuXG5cdGFuZ3VsYXIubW9kdWxlKCdLYW9sYScsIFsnS2FvbGEudG9vbHMnXSkuY29udHJvbGxlcihfaW5kZXgyLmRlZmF1bHRbMF0sIF9pbmRleDIuZGVmYXVsdFsxXSkuY29udHJvbGxlcihfbG9naW4yLmRlZmF1bHRbMF0sIF9sb2dpbjIuZGVmYXVsdFsxXSkuZGlyZWN0aXZlKF9sYXp5SW1hZ2UyLmRlZmF1bHRbMF0sIF9sYXp5SW1hZ2UyLmRlZmF1bHRbMV0pO1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgY29udHJvbGxlciA9IFsnSW5kZXhDdHJsJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJGZpbHRlcicsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkZmlsdGVyKSB7XG5cdCAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPj0gMjgwKSB7XG5cdCAgICAgICQoJy5uYXZiYXInKS5yZW1vdmVDbGFzcygnb3BhY2l0eScpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgJCgnLm5hdmJhcicpLmFkZENsYXNzKCdvcGFjaXR5Jyk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgd2luZG93Lk0gPSBuZXcgTWFzb25yeSgnLmpzLW1hc29ucnknLCB7XG5cdCAgICAvLyBvcHRpb25zLi4uXG5cdCAgICBpdGVtU2VsZWN0b3I6ICcuZ3JpZC1pdGVtJyxcblx0ICAgIGNvbHVtbldpZHRoOiAxMFxuXHQgIH0pO1xuXHQgIHZhciBnZXRGaXJzdEltYWdlID0gZnVuY3Rpb24gZ2V0Rmlyc3RJbWFnZShsaXN0KSB7XG5cdCAgICBmb3IgKHZhciBpdGVtIGluIGxpc3QpIHtcblx0ICAgICAgcmV0dXJuIGxpc3RbaXRlbV0udXJsO1xuXHQgICAgICBicmVhaztcblx0ICAgIH1cblx0ICB9O1xuXHQgIHZhciBhZGRNYXNvbnJ5ID0gZnVuY3Rpb24gYWRkTWFzb25yeShkYXRhKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICBjb25zb2xlLmxvZyhkYXRhW2ldKTtcblx0ICAgICAgdmFyIHRlbXBsYXRlID0gJ1xcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cXCdncmlkLWl0ZW1cXCc+XFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcJ2ltZy1ib3hcXCc+XFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcJ2ltZ1xcJyBocmVmPVxcJy8nICsgKGRhdGFbaV0uaW5mbyA/ICdnb29kJyA6ICdhcnRpY2xlJykgKyAnLycgKyBkYXRhW2ldLl9pZCArICdcXCc+XFxuICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XFwnJyArIGdldEZpcnN0SW1hZ2UoSlNPTi5wYXJzZShkYXRhW2ldLmltZ0xpc3QpKSArICdcXCcgb25sb2FkPVxcJ1JNKClcXCcvPlxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcJ251bVxcJz5cXG4gICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXCd3YXRjaC1udW1cXCcgaHJlZj1cXCdqYXZhc2NyaXB0OjtcXCc+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXCdmYSBmYS1leWVcXCc+PC9pPiAnICsgZGF0YVtpXS5zdGF0aXN0aWNzLnZpZXcgKyAnXFxuICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcJ2xpa2UtbnVtXFwnIGhyZWY9XFwnamF2YXNjcmlwdDo7XFwnPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFwnZmEgZmEtaGVhcnRcXCc+PC9pPiAnICsgZGF0YVtpXS5zdGF0aXN0aWNzLmxpa2UgKyAnXFxuICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICA8L3A+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFwnY2xlYXJmaXhcXCc+XFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcJ2ltZy1uYW1lXFwnIGhyZWY9XFwnLycgKyAoZGF0YVtpXS5pbmZvID8gJ2dvb2QnIDogJ2FydGljbGUnKSArICcvJyArIGRhdGFbaV0uX2lkICsgJ1xcJz4nICsgZGF0YVtpXS50aXRsZSArICc8L2E+XFxuICAgICAgICAgICAgICAgICcgKyAoZGF0YVtpXS5pbmZvID8gJzxwIGNsYXNzPVxcJ3NvcnRcXCc+PGkgY2xhc3M9XFwnZmEgZmEtbG9jYXRpb24tYXJyb3dcXCc+PC9pPiAnICsgZGF0YVtpXS5pbmZvLmxvY2F0aW9uICsgJzwvcD4nIDogJycpICsgJ1xcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXCdtZXRob2QgY2xlZmFmaXhcXCcgaHJlZj1cXCcvdXNlcnMvJyArIGRhdGFbaV0uYXV0aG9yLl9pZCArICdcXCc+XFxuICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XFwnYmFja2dyb3VuZC1pbWFnZTp1cmwoJyArIGRhdGFbaV0uYXV0aG9yLmF2YXRhciArICcpO1xcJz48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgPGI+JyArIGRhdGFbaV0uYXV0aG9yLm5pY2tOYW1lICsgJzwvYj5cXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9saT4nO1xuXHQgICAgICAkKCcuanMtbWFzb25yeScpLmFwcGVuZCh0ZW1wbGF0ZSk7XG5cdCAgICAgIHdpbmRvdy5NLnJlbG9hZEl0ZW1zKCk7XG5cdCAgICB9O1xuXHQgIH07XG5cdCAgYWRkTWFzb25yeSh3aW5kb3cubGlzdCk7XG5cdH1dXTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gY29udHJvbGxlcjtcblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIGNvbnRyb2xsZXIgPSBbJ0xvZ2luQ3RybCcsIFsnJHNjb3BlJywgJyRodHRwJywgJyRmaWx0ZXInLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJGZpbHRlcikge1xuXHQgICRzY29wZS5pbmRleCA9ICd4eCc7XG5cdH1dXTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gY29udHJvbGxlcjtcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIGRpcmVjdGl2ZSA9IFsnbGF6eVNyYycsIFsnJHdpbmRvdycsICckZG9jdW1lbnQnLCBmdW5jdGlvbiAoJHdpbiwgJGRvYykge1xuXHQgIHZhciB3aW4gPSBhbmd1bGFyLmVsZW1lbnQoJHdpbik7XG5cdCAgdmFyIGRvYyA9ICRkb2NbMF07XG5cdCAgdmFyIGlzTGF6eUxvYWRpbmcgPSBmYWxzZTtcblx0ICAvL+eUqOadpee7tOaKpOW9k+WJjemcgOimgWxhenlsb2Fk55qE5Zu+54mH6ZuG5ZCIXG5cdCAgdmFyIGVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIF91aWQgPSAwO1xuXHQgICAgdmFyIF9saXN0ID0ge307XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBwdXNoOiBmdW5jdGlvbiBwdXNoKF9kYXRhKSB7XG5cdCAgICAgICAgX2xpc3RbX3VpZCsrXSA9IF9kYXRhO1xuXHQgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgY2hlY2tJbWFnZShfZGF0YSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0sXG5cdCAgICAgIGRlbDogZnVuY3Rpb24gZGVsKGtleSkge1xuXHQgICAgICAgIF9saXN0W2tleV0gJiYgZGVsZXRlIF9saXN0W2tleV07XG5cdCAgICAgIH0sXG5cdCAgICAgIHNpemU6IGZ1bmN0aW9uIHNpemUoKSB7XG5cdCAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKF9saXN0KS5sZW5ndGg7XG5cdCAgICAgIH0sXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiBfbGlzdDtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9KCk7XG5cdCAgLy/liKTmlq3lm77niYflhYPntKDmmK/lkKblnKjlj6/op4bljLrln5/lhoXvvIzlpoLmnpzotoXlh7oxLzPlj6/op4HvvIzliJnmmL7npLpcblx0ICB2YXIgaXNWaXNpYmxlID0gZnVuY3Rpb24gaXNWaXNpYmxlKGVsZW0pIHtcblx0ICAgIHZhciByZWN0ID0gZWxlbVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0ICAgIHZhciByZXQgPSB0cnVlO1xuXHQgICAgaWYgKHJlY3QuaGVpZ2h0ID4gMCAmJiByZWN0LndpZHRoID4gMCkge1xuXHQgICAgICB2YXIgeCA9IHJlY3QudG9wID4gMCAmJiByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMyA8IE1hdGgubWF4KGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCB3aW4uaW5uZXJIZWlnaHQgfHwgMCk7XG5cdCAgICAgIHZhciB5ID0gcmVjdC5sZWZ0ID4gMCAmJiByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMyA8IE1hdGgubWF4KGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsIHdpbi5pbm5lcldpZHRoIHx8IDApO1xuXHQgICAgICByZXQgPSB4ICYmIHk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHQgIH07XG5cdCAgLy/mr4/mrKFzY3JvbGzml7bvvIzosIPnlKhjaGVja0ltYWdl77yM5b6q546v5qOA5p+l5Zu+54mHXG5cdCAgdmFyIGNoZWNrSW1hZ2UgPSBmdW5jdGlvbiBjaGVja0ltYWdlKGV2dCwgaSwgaXRlbSkge1xuXHQgICAgaWYgKGkgPj0gMCAmJiBpdGVtKSB7XG5cdCAgICAgIHJldHVybiBpc1Zpc2libGUoaXRlbS5lbGVtKSA/IGl0ZW0ubG9hZChpKSA6IGZhbHNlOyAvL+aMh+WumuajgOafpe+8jOi/lOWbnuaYr+WQpuaYvuekulxuXHQgICAgfSBlbHNlIGlmIChlbGVtZW50cy5zaXplKCkgPT0gMCkge1xuXHQgICAgICAgIC8v5YWo6YOo5pi+56S65LmL5ZCO77yM6Kej6Zmk57uR5a6aXG5cdCAgICAgICAgd2luLm9mZignc2Nyb2xsJywgY2hlY2tJbWFnZSk7XG5cdCAgICAgICAgd2luLm9mZigncmVzaXplJywgY2hlY2tJbWFnZSk7XG5cdCAgICAgICAgaXNMYXp5TG9hZGluZyA9IGZhbHNlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChlbGVtZW50cy5nZXQoKSwgZnVuY3Rpb24gKGl0ZW0sIGtleSkge1xuXHQgICAgICAgICAgLy/lvqrnjq/mo4Dmn6Vcblx0ICAgICAgICAgIGlzVmlzaWJsZShpdGVtLmVsZW0pICYmIGl0ZW0ubG9hZChrZXkpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgfTtcblx0ICAvL+WIneWni+WMlu+8jOe7keWumnNjcm9sbFxuXHQgIC8v5aaC5p6c5bey57uP5YWo6YOo5pi+56S65LqG77yM5Lyab2Zm77yM6Iul5pyJ5paw55qE5oyH5Luk77yIYWpheOOAgWpz6L295YWl6ZyA6KaBbGF6eWxvYWTnmoTlhoXlrrnvvInvvIzkvJrph43mlrDnu5HlrppzY3JvbGxcblx0ICB2YXIgaW5pdExhenlMb2FkID0gZnVuY3Rpb24gaW5pdExhenlMb2FkKCkge1xuXHQgICAgaWYgKGlzTGF6eUxvYWRpbmcgPT09IGZhbHNlKSB7XG5cdCAgICAgIGlzTGF6eUxvYWRpbmcgPSB0cnVlO1xuXHQgICAgICB3aW4ub24oJ3Njcm9sbCcsIGNoZWNrSW1hZ2UpO1xuXHQgICAgICB3aW4ub24oJ3Jlc2l6ZScsIGNoZWNrSW1hZ2UpO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgcmV0dXJuIHtcblx0ICAgIHJlc3RyaWN0OiAnQScsIC8v5LuF5Y+v5Lul5L2/55SoICBhdHRyXG5cdCAgICBzY29wZToge30sIC8v54us56uL55qEc2NvcGVcblx0ICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoJHNjb3BlLCAkZWxlbSwgYXR0cnMpIHtcblx0ICAgICAgJGVsZW1bMF0uc3R5bGUuY3NzVGV4dCAmJiAkZWxlbS5kYXRhKCdjc3NUZXh0JywgJGVsZW1bMF0uc3R5bGUuY3NzVGV4dCk7XG5cdCAgICAgICRlbGVtLmNzcyh7ICdtaW4td2lkdGgnOiAnMXB4JywgJ21pbi1oZWlnaHQnOiAnMXB4JyB9KTtcblx0ICAgICAgLy/kvKDlm57osIPlj4LmlbDvvIzkuI0kd2F0Y2gg54q25oCB77yM5Lul5YWN5aKe5Yqg6L+H5aSaXG5cdCAgICAgIGVsZW1lbnRzLnB1c2goe1xuXHQgICAgICAgIGVsZW06ICRlbGVtLFxuXHQgICAgICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoa2V5KSB7XG5cdCAgICAgICAgICAkZWxlbS5kYXRhKCdjc3NUZXh0JykgJiYgKCRlbGVtWzBdLnN0eWxlLmNzc1RleHQgPSAkZWxlbS5kYXRhKCdjc3NUZXh0JykpO1xuXHQgICAgICAgICAgJGVsZW0ucmVtb3ZlQ2xhc3MoJ25nLWxhenlsb2FkJyk7XG5cdCAgICAgICAgICAkZWxlbS5hdHRyKCdzcmMnLCBhdHRycy5sYXp5U3JjKTtcblx0ICAgICAgICAgIGtleSA+PSAwICYmIGVsZW1lbnRzLmRlbChrZXkpO1xuXHQgICAgICAgICAgJHNjb3BlLiRkZXN0cm95KCk7XG5cdCAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBpbml0TGF6eUxvYWQoKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XV07XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGRpcmVjdGl2ZTtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
