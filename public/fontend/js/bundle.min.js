!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var a=n(1),o=i(a),s=n(2),r=i(s),l=n(3),c=i(l),d=n(4),u=i(d),f=n(5),m=i(f);window.RM=function(){window.M&&window.M.layout()},angular.module("Kaola",["Kaola.tools"]).controller(o["default"][0],o["default"][1]).controller(r["default"][0],r["default"][1]).controller(c["default"][0],c["default"][1]).directive(u["default"][0],u["default"][1]).directive(m["default"][0],m["default"][1])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["IndexCtrl",["$scope","$http","$filter",function(e,t,n){$(window).scroll(function(){$(document).scrollTop()>=280?$(".navbar").removeClass("opacity"):$(".navbar").addClass("opacity")}),window.M=new Masonry(".js-masonry",{itemSelector:".grid-item",columnWidth:10});var i=function(e){for(var t in e)return e[t].url},a=function(e){for(var t=0,n=e.length;n>t;t++){console.log(e[t]);var a="\n            <li class='grid-item'>\n              <div class='img-box'>\n                <a class='img' href='/"+(e[t].info?"good":"article")+"/"+e[t]._id+"'>\n                  <img src='"+i(JSON.parse(e[t].imgList))+"' onload='RM()' onerror='this.src=\"fontend/img/bg/nopicture.jpg\"'/>\n                </a>\n                <p class='num'>\n                  <a class='watch-num' href='javascript:;'>\n                    <i class='fa fa-eye'></i> "+e[t].statistics.view+"\n                  </a>\n                  <a class='like-num' href='javascript:;'>\n                    <i class='fa fa-heart'></i> "+e[t].statistics.like+"\n                  </a>\n                </p>\n              </div>\n              <div class='clearfix'>\n                <a class='img-name' href='/"+("good"===e[t].type?"good":"article")+"/"+e[t]._id+"'>"+e[t].title+"</a>\n                "+(e[t].info?"<p class='sort'><i class='fa fa-location-arrow'></i> "+e[t].info.location+"</p>":"")+"\n                <a class='method clefafix' href='/users/"+e[t].author._id+"'>\n                  <span style='background-image:url("+e[t].author.avatar+");'></span>\n                  <b>"+e[t].author.nickName+"</b>\n                </a>\n              </div>\n            </li>";$(".js-masonry").append(a),window.M.reloadItems()}};a(window.list)}]];t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["LoginCtrl",["$scope","$http","$filter",function(e,t,n){e.index="xx"}]];t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["GoodCtrl",["$scope","$http","$filter",function(e,t,n){e.index="xx"}]];t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["lazySrc",["$window","$document",function(e,t){var n=angular.element(e),i=t[0],a=!1,o=function(){var e=0,t={};return{push:function(n){t[e++]=n,setTimeout(function(){r(n)})},del:function(e){t[e]&&delete t[e]},size:function(){return Object.keys(t).length},get:function(){return t}}}(),s=function(e){var t=e[0].getBoundingClientRect(),a=!0;if(t.height>0&&t.width>0){var o=t.top>0&&t.top+t.height/3<Math.max(i.documentElement.clientHeight,n.innerHeight||0),s=t.left>0&&t.left+t.width/3<Math.max(i.documentElement.clientWidth,n.innerWidth||0);a=o&&s}return a},r=function c(e,t,i){return t>=0&&i?s(i.elem)?i.load(t):!1:void(0==o.size()?(n.off("scroll",c),n.off("resize",c),a=!1):angular.forEach(o.get(),function(e,t){s(e.elem)&&e.load(t)}))},l=function(){a===!1&&(a=!0,n.on("scroll",r),n.on("resize",r))};return{restrict:"A",scope:{},link:function(e,t,n){t[0].style.cssText&&t.data("cssText",t[0].style.cssText),t.css({"min-width":"1px","min-height":"1px"}),o.push({elem:t,load:function(i){return t.data("cssText")&&(t[0].style.cssText=t.data("cssText")),t.removeClass("ng-lazyload"),t.attr("src",n.lazySrc),i>=0&&o.del(i),e.$destroy(),!0}}),l()}}}]];t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["imageSlide",["$window","$document",function(e,t){return{restrict:"EMAC",replace:!0,template:"\n          <div class='row margin-bottom image-box' ng-if='remove'>\n            <div class='col-sm-8'>\n              <div class='big-img'><img class='img-responsive' ng-src='{{showImage.url}}' alt='Photo'/></div>\n            </div>\n            <div class='col-sm-4'>\n              <div class='row'>\n                <div class='col-xs-6'>\n                <div class='small-img' ng-repeat='item in leftData track by $index'><img class='img-responsive' ng-src='{{item.url}}' ng-click='show(item)' alt='Photo'/></div>\n                </div>\n                <div class='col-xs-6'>\n                <div class='small-img' ng-repeat='item in rightData track by $index'><img class='img-responsive' ng-src='{{item.url}}' ng-click='show(item)' alt='Photo'/></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        ",controller:["$scope",function(e){e.rightData=[],e.leftData=[],e.remove=!0,e.showImage="",e.show=function(t){e.showImage=t}}],link:function(e,t,n){var i=JSON.parse(n.data),a=1;for(var o in i)1===a&&(e.showImage=i[o]),a%2===0?e.rightData.push(i[o]):e.leftData.push(i[o]),a++;1===a&&(e.remove=!1)}}}]];t["default"]=n}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfaW5kZXgiLCJfaW5kZXgyIiwiX2xvZ2luIiwiX2xvZ2luMiIsIl9nb29kIiwiX2dvb2QyIiwiX2xhenlJbWFnZSIsIl9sYXp5SW1hZ2UyIiwiX2ltYWdlU2xpZGUiLCJfaW1hZ2VTbGlkZTIiLCJ3aW5kb3ciLCJSTSIsIk0iLCJsYXlvdXQiLCJhbmd1bGFyIiwiY29udHJvbGxlciIsImRpcmVjdGl2ZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCIkc2NvcGUiLCIkaHR0cCIsIiRmaWx0ZXIiLCIkIiwic2Nyb2xsIiwiZG9jdW1lbnQiLCJzY3JvbGxUb3AiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiTWFzb25yeSIsIml0ZW1TZWxlY3RvciIsImNvbHVtbldpZHRoIiwiZ2V0Rmlyc3RJbWFnZSIsImxpc3QiLCJpdGVtIiwidXJsIiwiYWRkTWFzb25yeSIsImRhdGEiLCJpIiwibGVuIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsInRlbXBsYXRlIiwiaW5mbyIsIl9pZCIsIkpTT04iLCJwYXJzZSIsImltZ0xpc3QiLCJzdGF0aXN0aWNzIiwidmlldyIsImxpa2UiLCJ0eXBlIiwidGl0bGUiLCJsb2NhdGlvbiIsImF1dGhvciIsImF2YXRhciIsIm5pY2tOYW1lIiwiYXBwZW5kIiwicmVsb2FkSXRlbXMiLCJpbmRleCIsIiR3aW4iLCIkZG9jIiwid2luIiwiZWxlbWVudCIsImRvYyIsImlzTGF6eUxvYWRpbmciLCJlbGVtZW50cyIsIl91aWQiLCJfbGlzdCIsInB1c2giLCJfZGF0YSIsInNldFRpbWVvdXQiLCJjaGVja0ltYWdlIiwiZGVsIiwia2V5Iiwic2l6ZSIsImtleXMiLCJnZXQiLCJpc1Zpc2libGUiLCJlbGVtIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJldCIsImhlaWdodCIsIndpZHRoIiwieCIsInRvcCIsIk1hdGgiLCJtYXgiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJpbm5lckhlaWdodCIsInkiLCJsZWZ0IiwiY2xpZW50V2lkdGgiLCJpbm5lcldpZHRoIiwiZXZ0IiwibG9hZCIsIm9mZiIsImZvckVhY2giLCJpbml0TGF6eUxvYWQiLCJvbiIsInJlc3RyaWN0Iiwic2NvcGUiLCJsaW5rIiwiJGVsZW0iLCJhdHRycyIsInN0eWxlIiwiY3NzVGV4dCIsImNzcyIsIm1pbi13aWR0aCIsIm1pbi1oZWlnaHQiLCJhdHRyIiwibGF6eVNyYyIsIiRkZXN0cm95IiwicmVwbGFjZSIsInJpZ2h0RGF0YSIsImxlZnREYXRhIiwicmVtb3ZlIiwic2hvd0ltYWdlIiwic2hvdyJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0FLVCxRQUFTQyxHQUFvQkMsR0FHNUIsR0FBR0MsRUFBaUJELEdBQ25CLE1BQU9DLEdBQWlCRCxHQUFVRSxPQUduQyxJQUFJQyxHQUFTRixFQUFpQkQsSUFDN0JFLFdBQ0FFLEdBQUlKLEVBQ0pLLFFBQVEsRUFVVCxPQU5BUCxHQUFRRSxHQUFVTSxLQUFLSCxFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTSCxHQUcvREksRUFBT0UsUUFBUyxFQUdURixFQUFPRCxRQXZCZixHQUFJRCxLQXFDSixPQVRBRixHQUFvQlEsRUFBSVQsRUFHeEJDLEVBQW9CUyxFQUFJUCxFQUd4QkYsRUFBb0JVLEVBQUksR0FHakJWLEVBQW9CLEtBSy9CLFNBQVNJLEVBQVFELEVBQVNILEdBRS9CLFlBc0JBLFNBQVNXLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBcEJ2RixHQUFJRyxHQUFTZixFQUFvQixHQUU3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TUFDeEJ1QixFQUFRLENBQ1osS0FBSyxHQUFJMUIsS0FBUUcsR0FDRCxJQUFWdUIsSUFBYXhDLEVBQU9vRyxVQUFZbkYsRUFBS0gsSUFDckMwQixFQUFRLElBQU0sRUFDaEJ4QyxFQUFPaUcsVUFBVS9DLEtBQUtqQyxFQUFLSCxJQUUzQmQsRUFBT2tHLFNBQVNoRCxLQUFLakMsRUFBS0gsSUFFNUIwQixHQUVZLEtBQVZBLElBQWF4QyxFQUFPbUcsUUFBUyxPQUl2Q25JLEdBQUFBLFdBQWtCNEIiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcblxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cblxuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXHR2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4KTtcblxuXHR2YXIgX2xvZ2luID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgX2xvZ2luMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZ2luKTtcblxuXHR2YXIgX2dvb2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cdHZhciBfZ29vZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nb29kKTtcblxuXHR2YXIgX2xhenlJbWFnZSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cblx0dmFyIF9sYXp5SW1hZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGF6eUltYWdlKTtcblxuXHR2YXIgX2ltYWdlU2xpZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBfaW1hZ2VTbGlkZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbWFnZVNsaWRlKTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdC8v5oyH5Luk6ZuGXG5cblxuXHR3aW5kb3cuUk0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgaWYgKHdpbmRvdy5NKSB3aW5kb3cuTS5sYXlvdXQoKTtcblx0fTtcblx0Ly/mjqfliLblmahcblxuXG5cdGFuZ3VsYXIubW9kdWxlKCdLYW9sYScsIFsnS2FvbGEudG9vbHMnXSkuY29udHJvbGxlcihfaW5kZXgyLmRlZmF1bHRbMF0sIF9pbmRleDIuZGVmYXVsdFsxXSkuY29udHJvbGxlcihfbG9naW4yLmRlZmF1bHRbMF0sIF9sb2dpbjIuZGVmYXVsdFsxXSkuY29udHJvbGxlcihfZ29vZDIuZGVmYXVsdFswXSwgX2dvb2QyLmRlZmF1bHRbMV0pLmRpcmVjdGl2ZShfbGF6eUltYWdlMi5kZWZhdWx0WzBdLCBfbGF6eUltYWdlMi5kZWZhdWx0WzFdKS5kaXJlY3RpdmUoX2ltYWdlU2xpZGUyLmRlZmF1bHRbMF0sIF9pbWFnZVNsaWRlMi5kZWZhdWx0WzFdKTtcblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIGNvbnRyb2xsZXIgPSBbJ0luZGV4Q3RybCcsIFsnJHNjb3BlJywgJyRodHRwJywgJyRmaWx0ZXInLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJGZpbHRlcikge1xuXHQgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID49IDI4MCkge1xuXHQgICAgICAkKCcubmF2YmFyJykucmVtb3ZlQ2xhc3MoJ29wYWNpdHknKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICQoJy5uYXZiYXInKS5hZGRDbGFzcygnb3BhY2l0eScpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHdpbmRvdy5NID0gbmV3IE1hc29ucnkoJy5qcy1tYXNvbnJ5Jywge1xuXHQgICAgLy8gb3B0aW9ucy4uLlxuXHQgICAgaXRlbVNlbGVjdG9yOiAnLmdyaWQtaXRlbScsXG5cdCAgICBjb2x1bW5XaWR0aDogMTBcblx0ICB9KTtcblx0ICB2YXIgZ2V0Rmlyc3RJbWFnZSA9IGZ1bmN0aW9uIGdldEZpcnN0SW1hZ2UobGlzdCkge1xuXHQgICAgZm9yICh2YXIgaXRlbSBpbiBsaXN0KSB7XG5cdCAgICAgIHJldHVybiBsaXN0W2l0ZW1dLnVybDtcblx0ICAgICAgYnJlYWs7XG5cdCAgICB9XG5cdCAgfTtcblx0ICB2YXIgYWRkTWFzb25yeSA9IGZ1bmN0aW9uIGFkZE1hc29ucnkoZGF0YSkge1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgY29uc29sZS5sb2coZGF0YVtpXSk7XG5cdCAgICAgIHZhciB0ZW1wbGF0ZSA9ICdcXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFwnZ3JpZC1pdGVtXFwnPlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXCdpbWctYm94XFwnPlxcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXCdpbWdcXCcgaHJlZj1cXCcvJyArIChkYXRhW2ldLmluZm8gPyAnZ29vZCcgOiAnYXJ0aWNsZScpICsgJy8nICsgZGF0YVtpXS5faWQgKyAnXFwnPlxcbiAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVxcJycgKyBnZXRGaXJzdEltYWdlKEpTT04ucGFyc2UoZGF0YVtpXS5pbWdMaXN0KSkgKyAnXFwnIG9ubG9hZD1cXCdSTSgpXFwnIG9uZXJyb3I9XFwndGhpcy5zcmM9XCJmb250ZW5kL2ltZy9iZy9ub3BpY3R1cmUuanBnXCJcXCcvPlxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcJ251bVxcJz5cXG4gICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXCd3YXRjaC1udW1cXCcgaHJlZj1cXCdqYXZhc2NyaXB0OjtcXCc+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXCdmYSBmYS1leWVcXCc+PC9pPiAnICsgZGF0YVtpXS5zdGF0aXN0aWNzLnZpZXcgKyAnXFxuICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcJ2xpa2UtbnVtXFwnIGhyZWY9XFwnamF2YXNjcmlwdDo7XFwnPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFwnZmEgZmEtaGVhcnRcXCc+PC9pPiAnICsgZGF0YVtpXS5zdGF0aXN0aWNzLmxpa2UgKyAnXFxuICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICA8L3A+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFwnY2xlYXJmaXhcXCc+XFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcJ2ltZy1uYW1lXFwnIGhyZWY9XFwnLycgKyAoZGF0YVtpXS50eXBlID09PSAnZ29vZCcgPyAnZ29vZCcgOiAnYXJ0aWNsZScpICsgJy8nICsgZGF0YVtpXS5faWQgKyAnXFwnPicgKyBkYXRhW2ldLnRpdGxlICsgJzwvYT5cXG4gICAgICAgICAgICAgICAgJyArIChkYXRhW2ldLmluZm8gPyAnPHAgY2xhc3M9XFwnc29ydFxcJz48aSBjbGFzcz1cXCdmYSBmYS1sb2NhdGlvbi1hcnJvd1xcJz48L2k+ICcgKyBkYXRhW2ldLmluZm8ubG9jYXRpb24gKyAnPC9wPicgOiAnJykgKyAnXFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcJ21ldGhvZCBjbGVmYWZpeFxcJyBocmVmPVxcJy91c2Vycy8nICsgZGF0YVtpXS5hdXRob3IuX2lkICsgJ1xcJz5cXG4gICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cXCdiYWNrZ3JvdW5kLWltYWdlOnVybCgnICsgZGF0YVtpXS5hdXRob3IuYXZhdGFyICsgJyk7XFwnPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICA8Yj4nICsgZGF0YVtpXS5hdXRob3Iubmlja05hbWUgKyAnPC9iPlxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2xpPic7XG5cdCAgICAgICQoJy5qcy1tYXNvbnJ5JykuYXBwZW5kKHRlbXBsYXRlKTtcblx0ICAgICAgd2luZG93Lk0ucmVsb2FkSXRlbXMoKTtcblx0ICAgIH07XG5cdCAgfTtcblx0ICBhZGRNYXNvbnJ5KHdpbmRvdy5saXN0KTtcblx0fV1dO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBjb250cm9sbGVyO1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgY29udHJvbGxlciA9IFsnTG9naW5DdHJsJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJGZpbHRlcicsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkZmlsdGVyKSB7XG5cdCAgJHNjb3BlLmluZGV4ID0gJ3h4Jztcblx0fV1dO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBjb250cm9sbGVyO1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgY29udHJvbGxlciA9IFsnR29vZEN0cmwnLCBbJyRzY29wZScsICckaHR0cCcsICckZmlsdGVyJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRmaWx0ZXIpIHtcblx0ICAkc2NvcGUuaW5kZXggPSAneHgnO1xuXHR9XV07XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNvbnRyb2xsZXI7XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBkaXJlY3RpdmUgPSBbJ2xhenlTcmMnLCBbJyR3aW5kb3cnLCAnJGRvY3VtZW50JywgZnVuY3Rpb24gKCR3aW4sICRkb2MpIHtcblx0ICB2YXIgd2luID0gYW5ndWxhci5lbGVtZW50KCR3aW4pO1xuXHQgIHZhciBkb2MgPSAkZG9jWzBdO1xuXHQgIHZhciBpc0xhenlMb2FkaW5nID0gZmFsc2U7XG5cdCAgLy/nlKjmnaXnu7TmiqTlvZPliY3pnIDopoFsYXp5bG9hZOeahOWbvueJh+mbhuWQiFxuXHQgIHZhciBlbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBfdWlkID0gMDtcblx0ICAgIHZhciBfbGlzdCA9IHt9O1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcHVzaDogZnVuY3Rpb24gcHVzaChfZGF0YSkge1xuXHQgICAgICAgIF9saXN0W191aWQrK10gPSBfZGF0YTtcblx0ICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGNoZWNrSW1hZ2UoX2RhdGEpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9LFxuXHQgICAgICBkZWw6IGZ1bmN0aW9uIGRlbChrZXkpIHtcblx0ICAgICAgICBfbGlzdFtrZXldICYmIGRlbGV0ZSBfbGlzdFtrZXldO1xuXHQgICAgICB9LFxuXHQgICAgICBzaXplOiBmdW5jdGlvbiBzaXplKCkge1xuXHQgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhfbGlzdCkubGVuZ3RoO1xuXHQgICAgICB9LFxuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gX2xpc3Q7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfSgpO1xuXHQgIC8v5Yik5pat5Zu+54mH5YWD57Sg5piv5ZCm5Zyo5Y+v6KeG5Yy65Z+f5YaF77yM5aaC5p6c6LaF5Ye6MS8z5Y+v6KeB77yM5YiZ5pi+56S6XG5cdCAgdmFyIGlzVmlzaWJsZSA9IGZ1bmN0aW9uIGlzVmlzaWJsZShlbGVtKSB7XG5cdCAgICB2YXIgcmVjdCA9IGVsZW1bMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdCAgICB2YXIgcmV0ID0gdHJ1ZTtcblx0ICAgIGlmIChyZWN0LmhlaWdodCA+IDAgJiYgcmVjdC53aWR0aCA+IDApIHtcblx0ICAgICAgdmFyIHggPSByZWN0LnRvcCA+IDAgJiYgcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDMgPCBNYXRoLm1heChkb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwgd2luLmlubmVySGVpZ2h0IHx8IDApO1xuXHQgICAgICB2YXIgeSA9IHJlY3QubGVmdCA+IDAgJiYgcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDMgPCBNYXRoLm1heChkb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLCB3aW4uaW5uZXJXaWR0aCB8fCAwKTtcblx0ICAgICAgcmV0ID0geCAmJiB5O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0ICB9O1xuXHQgIC8v5q+P5qyhc2Nyb2xs5pe277yM6LCD55SoY2hlY2tJbWFnZe+8jOW+queOr+ajgOafpeWbvueJh1xuXHQgIHZhciBjaGVja0ltYWdlID0gZnVuY3Rpb24gY2hlY2tJbWFnZShldnQsIGksIGl0ZW0pIHtcblx0ICAgIGlmIChpID49IDAgJiYgaXRlbSkge1xuXHQgICAgICByZXR1cm4gaXNWaXNpYmxlKGl0ZW0uZWxlbSkgPyBpdGVtLmxvYWQoaSkgOiBmYWxzZTsgLy/mjIflrprmo4Dmn6XvvIzov5Tlm57mmK/lkKbmmL7npLpcblx0ICAgIH0gZWxzZSBpZiAoZWxlbWVudHMuc2l6ZSgpID09IDApIHtcblx0ICAgICAgICAvL+WFqOmDqOaYvuekuuS5i+WQju+8jOino+mZpOe7keWumlxuXHQgICAgICAgIHdpbi5vZmYoJ3Njcm9sbCcsIGNoZWNrSW1hZ2UpO1xuXHQgICAgICAgIHdpbi5vZmYoJ3Jlc2l6ZScsIGNoZWNrSW1hZ2UpO1xuXHQgICAgICAgIGlzTGF6eUxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBhbmd1bGFyLmZvckVhY2goZWxlbWVudHMuZ2V0KCksIGZ1bmN0aW9uIChpdGVtLCBrZXkpIHtcblx0ICAgICAgICAgIC8v5b6q546v5qOA5p+lXG5cdCAgICAgICAgICBpc1Zpc2libGUoaXRlbS5lbGVtKSAmJiBpdGVtLmxvYWQoa2V5KTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgIH07XG5cdCAgLy/liJ3lp4vljJbvvIznu5HlrppzY3JvbGxcblx0ICAvL+WmguaenOW3sue7j+WFqOmDqOaYvuekuuS6hu+8jOS8mm9mZu+8jOiLpeacieaWsOeahOaMh+S7pO+8iGFqYXjjgIFqc+i9veWFpemcgOimgWxhenlsb2Fk55qE5YaF5a6577yJ77yM5Lya6YeN5paw57uR5a6ac2Nyb2xsXG5cdCAgdmFyIGluaXRMYXp5TG9hZCA9IGZ1bmN0aW9uIGluaXRMYXp5TG9hZCgpIHtcblx0ICAgIGlmIChpc0xhenlMb2FkaW5nID09PSBmYWxzZSkge1xuXHQgICAgICBpc0xhenlMb2FkaW5nID0gdHJ1ZTtcblx0ICAgICAgd2luLm9uKCdzY3JvbGwnLCBjaGVja0ltYWdlKTtcblx0ICAgICAgd2luLm9uKCdyZXNpemUnLCBjaGVja0ltYWdlKTtcblx0ICAgIH1cblx0ICB9O1xuXHQgIHJldHVybiB7XG5cdCAgICByZXN0cmljdDogJ0EnLCAvL+S7heWPr+S7peS9v+eUqCAgYXR0clxuXHQgICAgc2NvcGU6IHt9LCAvL+eLrOeri+eahHNjb3BlXG5cdCAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKCRzY29wZSwgJGVsZW0sIGF0dHJzKSB7XG5cdCAgICAgICRlbGVtWzBdLnN0eWxlLmNzc1RleHQgJiYgJGVsZW0uZGF0YSgnY3NzVGV4dCcsICRlbGVtWzBdLnN0eWxlLmNzc1RleHQpO1xuXHQgICAgICAkZWxlbS5jc3MoeyAnbWluLXdpZHRoJzogJzFweCcsICdtaW4taGVpZ2h0JzogJzFweCcgfSk7XG5cdCAgICAgIC8v5Lyg5Zue6LCD5Y+C5pWw77yM5LiNJHdhdGNoIOeKtuaAge+8jOS7peWFjeWinuWKoOi/h+WkmlxuXHQgICAgICBlbGVtZW50cy5wdXNoKHtcblx0ICAgICAgICBlbGVtOiAkZWxlbSxcblx0ICAgICAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKGtleSkge1xuXHQgICAgICAgICAgJGVsZW0uZGF0YSgnY3NzVGV4dCcpICYmICgkZWxlbVswXS5zdHlsZS5jc3NUZXh0ID0gJGVsZW0uZGF0YSgnY3NzVGV4dCcpKTtcblx0ICAgICAgICAgICRlbGVtLnJlbW92ZUNsYXNzKCduZy1sYXp5bG9hZCcpO1xuXHQgICAgICAgICAgJGVsZW0uYXR0cignc3JjJywgYXR0cnMubGF6eVNyYyk7XG5cdCAgICAgICAgICBrZXkgPj0gMCAmJiBlbGVtZW50cy5kZWwoa2V5KTtcblx0ICAgICAgICAgICRzY29wZS4kZGVzdHJveSgpO1xuXHQgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgaW5pdExhenlMb2FkKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0fV1dO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBkaXJlY3RpdmU7XG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBkaXJlY3RpdmUgPSBbJ2ltYWdlU2xpZGUnLCBbJyR3aW5kb3cnLCAnJGRvY3VtZW50JywgZnVuY3Rpb24gKCR3aW4sICRkb2MpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgcmVzdHJpY3Q6ICdFTUFDJyxcblx0ICAgIHJlcGxhY2U6IHRydWUsXG5cdCAgICB0ZW1wbGF0ZTogJ1xcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcJ3JvdyBtYXJnaW4tYm90dG9tIGltYWdlLWJveFxcJyBuZy1pZj1cXCdyZW1vdmVcXCc+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXCdjb2wtc20tOFxcJz5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFwnYmlnLWltZ1xcJz48aW1nIGNsYXNzPVxcJ2ltZy1yZXNwb25zaXZlXFwnIG5nLXNyYz1cXCd7e3Nob3dJbWFnZS51cmx9fVxcJyBhbHQ9XFwnUGhvdG9cXCcvPjwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFwnY29sLXNtLTRcXCc+XFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcJ3Jvd1xcJz5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXCdjb2wteHMtNlxcJz5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXCdzbWFsbC1pbWdcXCcgbmctcmVwZWF0PVxcJ2l0ZW0gaW4gbGVmdERhdGEgdHJhY2sgYnkgJGluZGV4XFwnPjxpbWcgY2xhc3M9XFwnaW1nLXJlc3BvbnNpdmVcXCcgbmctc3JjPVxcJ3t7aXRlbS51cmx9fVxcJyBuZy1jbGljaz1cXCdzaG93KGl0ZW0pXFwnIGFsdD1cXCdQaG90b1xcJy8+PC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcJ2NvbC14cy02XFwnPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcJ3NtYWxsLWltZ1xcJyBuZy1yZXBlYXQ9XFwnaXRlbSBpbiByaWdodERhdGEgdHJhY2sgYnkgJGluZGV4XFwnPjxpbWcgY2xhc3M9XFwnaW1nLXJlc3BvbnNpdmVcXCcgbmctc3JjPVxcJ3t7aXRlbS51cmx9fVxcJyBuZy1jbGljaz1cXCdzaG93KGl0ZW0pXFwnIGFsdD1cXCdQaG90b1xcJy8+PC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgJyxcblx0ICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xuXHQgICAgICAkc2NvcGUucmlnaHREYXRhID0gW107XG5cdCAgICAgICRzY29wZS5sZWZ0RGF0YSA9IFtdO1xuXHQgICAgICAkc2NvcGUucmVtb3ZlID0gdHJ1ZTtcblx0ICAgICAgJHNjb3BlLnNob3dJbWFnZSA9ICcnO1xuXHQgICAgICAkc2NvcGUuc2hvdyA9IGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgICAkc2NvcGUuc2hvd0ltYWdlID0gb2JqO1xuXHQgICAgICB9O1xuXHQgICAgfV0sXG5cdCAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKCRzY29wZSwgJGVsZW0sIGF0dHJzKSB7XG5cdCAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShhdHRycy5kYXRhKTtcblx0ICAgICAgdmFyIGluZGV4ID0gMTtcblx0ICAgICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhKSB7XG5cdCAgICAgICAgaWYgKGluZGV4ID09PSAxKSAkc2NvcGUuc2hvd0ltYWdlID0gZGF0YVtpdGVtXTtcblx0ICAgICAgICBpZiAoaW5kZXggJSAyID09PSAwKSB7XG5cdCAgICAgICAgICAkc2NvcGUucmlnaHREYXRhLnB1c2goZGF0YVtpdGVtXSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICRzY29wZS5sZWZ0RGF0YS5wdXNoKGRhdGFbaXRlbV0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpbmRleCsrO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpbmRleCA9PT0gMSkgJHNjb3BlLnJlbW92ZSA9IGZhbHNlO1xuXHQgICAgfVxuXHQgIH07XG5cdH1dXTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZGlyZWN0aXZlO1xuXG4vKioqLyB9XG4vKioqKioqLyBdKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
